import{a as I,b as D,c as le,d as pe}from"./chunk-2BGGVGDK.js";import{a as se}from"./chunk-OTCGT67O.js";import{a as ce}from"./chunk-NK5CZJLO.js";import{a as _e}from"./chunk-ZFFSJV5F.js";import{b as te,d as ne,f as F,i as ie,n as oe,o as re,p as ae,r as de}from"./chunk-264BU5W5.js";import"./chunk-RA6BAOWJ.js";import{l as ee}from"./chunk-Z77WTJM6.js";import{D as G,I as A,J as L,K as R,Ka as g,M as U,Mb as Z,Na as l,Nb as W,Oa as h,Qa as a,Ra as r,Rb as K,Sa as M,Sb as Q,Ta as E,Tb as X,Ua as k,V as B,Va as O,Wa as x,Xa as s,Z as q,bb as j,cb as d,db as C,eb as v,ga as f,ha as u,hb as J,j as N,kb as S,lb as z,mb as V,nb as Y,q as T,r as $,za as n}from"./chunk-KPOQCY7D.js";var H=t=>{if(!t)return!1;let o=t instanceof Date?t:new Date(t);if(!D(o))return!1;let e=new Date;return(o.getTime()-e.getTime())/(1e3*60*60)<3},ge=(t,o)=>t.producto.toLowerCase().includes(o.toLowerCase()),me=(t,o)=>{let e=p=>{let b=new Map;return p.forEach(_=>{b.has(_.producto)||b.set(_.producto,{producto:_.producto,tallaGroups:[],totalCantidad:0,estadoGlobal:"Pendiente",isUrgent:!1});let m=b.get(_.producto);m.totalCantidad+=_.cantidad,H(_.fechaEntrega)&&(m.isUrgent=!0);let P=m.tallaGroups.find(w=>w.talla===_.talla);P||(P={talla:_.talla,totalCantidad:0,rellenoSummary:[],pedidos:[],estadoGlobal:"Pendiente",hasAnyNotes:!1},m.tallaGroups.push(P)),P.totalCantidad+=_.cantidad,P.pedidos.push(_),_.notasPastelero&&(P.hasAnyNotes=!0);let y=P.rellenoSummary.find(w=>w.relleno===_.relleno);y||(y={relleno:_.relleno,cantidad:0,hasNotes:!1},P.rellenoSummary.push(y)),y.cantidad+=_.cantidad,_.notasPastelero&&(y.hasNotes=!0)}),b.forEach(_=>{_.tallaGroups.forEach(m=>{m.pedidos.every(P=>P.estado==="Terminado"||P.estado==="Entregado")?m.estadoGlobal="Terminado":m.pedidos.some(P=>P.estado==="En Proceso")&&(m.estadoGlobal="En Proceso")}),_.tallaGroups.every(m=>m.estadoGlobal==="Terminado")?_.estadoGlobal="Terminado":_.tallaGroups.some(m=>m.estadoGlobal==="En Proceso")&&(_.estadoGlobal="En Proceso")}),Array.from(b.values())};if(!o)return t.length===0?[]:[{label:"Toda la producci\xF3n",productGroups:e(t)}];let i=[{label:"Primera Hora Ma\xF1ana (Hasta 11:00)",maxMinutes:11*60},{label:"Medio D\xEDa (Hasta 14:00)",maxMinutes:14*60},{label:"Primera Hora Tarde (Hasta 16:00)",maxMinutes:16*60},{label:"\xDAltima Hora Tarde (Hasta 24:00)",maxMinutes:24*60}],c=[];return i.forEach((p,b)=>{let _=b===0?0:i[b-1].maxMinutes,m=t.filter(P=>{let y=new Date(P.fechaEntrega),w=y.getHours()*60+y.getMinutes();return w>=_&&w<p.maxMinutes});m.length>0&&c.push({label:p.label,productGroups:e(m)})}),c},fe=(t,o)=>t.pedidos.filter(e=>e.estado===o).length,ue=t=>t.pedidos.some(o=>o.estado==="Pendiente"),xe=t=>t.pedidos.some(o=>o.estado==="En Proceso");function Ce(t,o){if(t&1&&(a(0,"option",7),d(1),r()),t&2){let e=o.$implicit;l("value",e),n(),C(e)}}function ve(t,o){if(t&1){let e=O();a(0,"div",33)(1,"button",34),x("click",function(){f(e);let c=s(2);return u(c.toggleStatus("Pendiente"))}),M(2,"span",35),d(3),r(),a(4,"button",34),x("click",function(){f(e);let c=s(2);return u(c.toggleStatus("En Proceso"))}),M(5,"span",36),d(6),r(),a(7,"button",34),x("click",function(){f(e);let c=s(2);return u(c.toggleStatus("Terminado"))}),M(8,"span",37),d(9),r()()}if(t&2){let e=o.ngIf,i=s(2);n(),h("active",i.isStatusActive("Pendiente")),n(2),v(" Pendiente (",e.falta,") "),n(),h("active",i.isStatusActive("En Proceso")),n(2),v(" En curso (",e.enCurso,") "),n(),h("active",i.isStatusActive("Terminado")),n(2),v(" Terminado (",e.terminado,") ")}}function Pe(t,o){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"label"),d(3,"Nombre del producto"),r(),M(4,"input",28),r(),a(5,"div",27)(6,"label"),d(7,"Familia de productos"),r(),a(8,"select",29)(9,"option",30),d(10,"Todas las familias"),r(),g(11,Ce,2,2,"option",31),S(12,"async"),r()(),a(13,"div",27)(14,"label"),d(15,"Filtrar por Estado"),r(),g(16,ve,10,9,"div",32),S(17,"async"),r()()),t&2){let e=s();n(4),l("formControl",e.productoFilter),n(4),l("formControl",e.familiaFilter),n(3),l("ngForOf",z(12,4,e.familias$)),n(5),l("ngIf",z(17,6,e.counts$))}}function Oe(t,o){if(t&1){let e=O();a(0,"div",40)(1,"div",41),x("click",function(){f(e);let c=s(2);return u(c.toggleStatus("Pendiente"))}),M(2,"span",42),a(3,"strong"),d(4),r(),d(5," Pendientes "),r(),a(6,"div",41),x("click",function(){f(e);let c=s(2);return u(c.toggleStatus("En Proceso"))}),M(7,"span",43),a(8,"strong"),d(9),r(),d(10," En curso "),r(),a(11,"div",41),x("click",function(){f(e);let c=s(2);return u(c.toggleStatus("Terminado"))}),M(12,"span",44),a(13,"strong"),d(14),r(),d(15," hechos "),r()()}if(t&2){let e=o.ngIf,i=s(2);n(),h("active",i.isStatusActive("Pendiente")),n(3),C(e.falta),n(2),h("active",i.isStatusActive("En Proceso")),n(3),C(e.enCurso),n(2),h("active",i.isStatusActive("Terminado")),n(3),C(e.terminado)}}function we(t,o){if(t&1&&(a(0,"div",38),g(1,Oe,16,9,"div",39),S(2,"async"),r()),t&2){let e=s();n(),l("ngIf",z(2,1,e.counts$))}}function Me(t,o){if(t&1){let e=O();a(0,"div",53),x("click",function(){let c=f(e).$implicit,p=s(4);return u(p.setFechaToPedido(c))}),a(1,"span",54),d(2),S(3,"date"),r(),a(4,"span",55),d(5),r(),a(6,"span",56),d(7),r()()}if(t&2){let e=o.$implicit;n(2),C(V(3,3,e.fechaEntrega,"HH:mm")),n(3),C(e.producto),n(2),v("",e.cantidad,"u.")}}function ye(t,o){if(t&1&&(a(0,"div",51),g(1,Me,8,6,"div",52),r()),t&2){let e=s(2).ngIf;n(),l("ngForOf",e)}}function Se(t,o){if(t&1){let e=O();a(0,"div",46)(1,"div",47),x("click",function(){f(e);let c=s(2);return u(c.showUpcomingList=!c.showUpcomingList)}),a(2,"span",48),d(3,"\u26A0\uFE0F"),r(),a(4,"h3"),d(5),r(),a(6,"span",49),d(7),r()(),g(8,ye,2,1,"div",50),r()}if(t&2){let e=s().ngIf,i=s();n(5),v("Pedidos pr\xF3ximos sin empezar (",e.length,")"),n(2),C(i.showUpcomingList?"\u25BC":"\u25B6"),n(),l("ngIf",i.showUpcomingList)}}function Ee(t,o){if(t&1&&(E(0),g(1,Se,9,3,"div",45),k()),t&2){let e=o.ngIf;n(),l("ngIf",e.length>0)}}function ke(t,o){t&1&&(a(0,"span",84),d(1,"\u25CF"),r())}function Te(t,o){if(t&1&&(a(0,"span",82),d(1),a(2,"strong"),d(3),r(),g(4,ke,2,0,"span",83),r()),t&2){let e=s().$implicit;h("with-note",e.hasNotes),n(),v(" ",e.relleno,": "),n(2),C(e.cantidad),n(),l("ngIf",e.hasNotes)}}function Ie(t,o){if(t&1&&(E(0),g(1,Te,5,5,"span",81),k()),t&2){let e=o.$implicit;n(),l("ngIf",e.relleno)}}function Le(t,o){if(t&1){let e=O();a(0,"button",94),x("click",function(){f(e);let c=s().$implicit,p=s(6);return u(p.updateStatus(c.id,"En Proceso"))}),d(1," EMPEZAR "),r()}if(t&2){let e=s().$implicit,i=s(6);l("disabled",i.updatingId===e.id)}}function ze(t,o){if(t&1){let e=O();a(0,"button",95),x("click",function(){f(e);let c=s().$implicit,p=s(6);return u(p.updateStatus(c.id,"Terminado"))}),d(1," TERMINAR "),r()}if(t&2){let e=s().$implicit,i=s(6);l("disabled",i.updatingId===e.id)}}function Ve(t,o){t&1&&(a(0,"span",96),d(1,"\u2713"),r())}function Fe(t,o){if(t&1&&(a(0,"div",99)(1,"strong"),d(2,"RELLENO:"),r(),d(3),r()),t&2){let e=s(2).$implicit;n(3),v(" ",e.relleno,"")}}function $e(t,o){if(t&1&&(a(0,"div")(1,"strong"),d(2,"NOTA:"),r(),d(3),r()),t&2){let e=s(2).$implicit;n(3),v(" ",e.notasPastelero,"")}}function De(t,o){if(t&1&&(a(0,"div",97),g(1,Fe,4,1,"div",98)(2,$e,4,1,"div",24),r()),t&2){let e=s().$implicit;n(),l("ngIf",e.relleno),n(),l("ngIf",e.notasPastelero)}}function Ge(t,o){if(t&1){let e=O();a(0,"div",85)(1,"div",86)(2,"span",54),d(3),S(4,"date"),r(),a(5,"span",56),d(6),r(),a(7,"span",87),d(8),r(),a(9,"div",88)(10,"button",89),x("click",function(){f(e);let c=s().$implicit;return u(c.expanded=!c.expanded)}),d(11),r(),g(12,Le,2,1,"button",90)(13,ze,2,1,"button",91)(14,Ve,2,0,"span",92),r()(),g(15,De,3,2,"div",93),r()}if(t&2){let e=o.$implicit,i=s().$implicit,c=s(5);h("urgent",c.isUrgent(e.fechaEntrega)),n(3),C(V(4,12,e.fechaEntrega,"HH:mm")),n(3),v("",e.cantidad,"u."),n(2),C(e.nombreCliente||"Mostrador"),n(2),h("active",i.expanded),n(),v(" ",i.expanded?"Ocultar":"Ver"," detalle \u{1F4C4} "),n(),l("ngIf",e.estado==="Pendiente"),n(),l("ngIf",e.estado==="En Proceso"),n(),l("ngIf",e.estado==="Terminado"||e.estado==="Entregado"),n(),l("ngIf",i.expanded&&(e.notasPastelero||e.relleno))}}function Ae(t,o){if(t&1&&(a(0,"div",72)(1,"div",73)(2,"div",74)(3,"span",75),d(4),r(),a(5,"div",76),g(6,Ie,2,1,"ng-container",77),r()(),a(7,"div",78),d(8),r()(),a(9,"div",79),g(10,Ge,16,15,"div",80),r()()),t&2){let e=o.$implicit;h("in-process",e.estadoGlobal==="En Proceso")("finished",e.estadoGlobal==="Terminado"),n(4),v(" ",e.talla," "),n(2),l("ngForOf",e.rellenoSummary),n(2),v("",e.totalCantidad," ud. total"),n(2),l("ngForOf",e.pedidos)}}function Be(t,o){if(t&1&&(a(0,"div",65)(1,"div",66)(2,"div",67)(3,"span",56),d(4),r(),a(5,"span",68),d(6,"u."),r()(),a(7,"div",69)(8,"div",55),d(9),r()()(),a(10,"div",70),g(11,Ae,11,8,"div",71),r()()),t&2){let e=o.$implicit;h("in-process",e.estadoGlobal==="En Proceso")("urgent",e.isUrgent)("finished",e.estadoGlobal==="Terminado"),n(4),C(e.totalCantidad),n(5),C(e.producto),n(2),l("ngForOf",e.tallaGroups)}}function He(t,o){if(t&1&&(a(0,"div",60)(1,"div",61)(2,"h3"),d(3),r(),a(4,"span",62),d(5),r()(),a(6,"div",63),g(7,Be,12,9,"div",64),r()()),t&2){let e=o.$implicit;n(3),C(e.label),n(2),v("",e.productGroups.length," tipos de prod."),n(2),l("ngForOf",e.productGroups)}}function Ne(t,o){if(t&1&&(E(0),g(1,He,8,3,"div",59),k()),t&2){let e=s().ngIf;n(),l("ngForOf",e)}}function Re(t,o){t&1&&(a(0,"span",116),d(1,"\u{1F4DD}"),r())}function Ue(t,o){if(t&1&&(a(0,"span",118),d(1),a(2,"strong"),d(3),r()()),t&2){let e=s().$implicit;h("r-note",e.hasNotes),n(),v(" ",e.relleno,": "),n(2),C(e.cantidad)}}function qe(t,o){if(t&1&&(E(0),g(1,Ue,4,4,"span",117),k()),t&2){let e=o.$implicit;n(),l("ngIf",e.relleno)}}function je(t,o){if(t&1){let e=O();a(0,"button",119),x("click",function(){f(e);let c=s().$implicit,p=s(4);return u(p.updateGroupStatus(c,"En Proceso"))}),d(1),r()}if(t&2){let e=s().$implicit,i=s(4);n(),v(" EMPEZAR (",i.countByStatus(e,"Pendiente"),") ")}}function Je(t,o){if(t&1){let e=O();a(0,"button",120),x("click",function(){f(e);let c=s().$implicit,p=s(4);return u(p.updateGroupStatus(c,"Terminado"))}),d(1),r()}if(t&2){let e=s().$implicit,i=s(4);n(),v(" TERMINAR (",i.countByStatus(e,"En Proceso"),") ")}}function Ye(t,o){if(t&1){let e=O();a(0,"span",121),d(1," \u2713 TODO HECHO "),a(2,"button",122),x("click",function(){f(e);let c=s().$implicit,p=s(4);return u(p.updateGroupStatus(c,"Pendiente"))}),d(3,"\u21A9"),r()()}}function Ze(t,o){if(t&1&&(a(0,"span",141),d(1),r()),t&2){let e=s().$implicit;n(),C(e.relleno)}}function We(t,o){if(t&1&&(a(0,"div",142)(1,"span",143),d(2),r()()),t&2){let e=s().$implicit;n(2),v("\u{1F4DD} ",e.notasPastelero,"")}}function Ke(t,o){if(t&1){let e=O();a(0,"button",144),x("click",function(){f(e);let c=s().$implicit,p=s(6);return u(p.updateStatus(c.id,"En Proceso"))}),d(1," EMPEZAR "),r()}}function Qe(t,o){if(t&1){let e=O();a(0,"button",145),x("click",function(){f(e);let c=s().$implicit,p=s(6);return u(p.updateStatus(c.id,"Terminado"))}),d(1," TERMINAR "),r()}}function Xe(t,o){t&1&&(a(0,"span",146),d(1,"\u2713 HECHO"),r())}function et(t,o){if(t&1&&(a(0,"tr",124)(1,"td",125)(2,"div",126)(3,"div",127)(4,"span",128),d(5),r(),a(6,"span",129),d(7),r(),g(8,Ze,2,1,"span",130),a(9,"span",131),d(10),r()(),g(11,We,3,1,"div",132),a(12,"div",133)(13,"div",134)(14,"span",135),d(15),S(16,"date"),r(),a(17,"span",136),d(18),r()(),a(19,"div",137),g(20,Ke,2,0,"button",138)(21,Qe,2,0,"button",139)(22,Xe,2,0,"span",140),r()()()()()),t&2){let e=o.$implicit,i=s(2).$implicit,c=s().$implicit,p=s(3);h("urgent",p.isUrgent(e.fechaEntrega)),n(5),C(c.producto),n(2),C(i.talla),n(),l("ngIf",e.relleno),n(2),v("",e.cantidad,"u"),n(),l("ngIf",e.notasPastelero),n(4),C(V(16,12,e.fechaEntrega,"HH:mm")),n(3),C(e.nombreCliente||"Mostrador"),n(2),l("ngIf",e.estado==="Pendiente"),n(),l("ngIf",e.estado==="En Proceso"),n(),l("ngIf",e.estado==="Terminado"||e.estado==="Entregado")}}function tt(t,o){if(t&1&&(E(0),g(1,et,23,15,"tr",123),k()),t&2){let e=s().$implicit;n(),l("ngForOf",e.pedidos)}}function nt(t,o){if(t&1){let e=O();E(0),a(1,"tr")(2,"td",103),d(3),r(),a(4,"td",104)(5,"div",105),d(6),g(7,Re,2,0,"span",106),r()(),a(8,"td",107)(9,"strong"),d(10),r()(),a(11,"td",108)(12,"div",109),g(13,qe,2,1,"ng-container",77),r()(),a(14,"td",110)(15,"div",111)(16,"button",112),x("click",function(){let c=f(e).$implicit;return u(c.expanded=!c.expanded)}),d(17),r(),g(18,je,2,1,"button",113)(19,Je,2,1,"button",114)(20,Ye,4,0,"span",115),r()()(),g(21,tt,2,1,"ng-container",24),k()}if(t&2){let e=o.$implicit,i=s().$implicit,c=s(3);n(),h("tr-urgent",i.isUrgent)("tr-finished",e.estadoGlobal==="Terminado"),n(2),v(" ",i.producto," "),n(3),v(" ",e.talla," "),n(),l("ngIf",e.hasAnyNotes&&!e.expanded),n(3),C(e.totalCantidad),n(3),l("ngForOf",e.rellenoSummary),n(3),h("active",e.expanded),n(),v(" ",e.expanded?"Ocultar":"Ver"," detalle \u{1F4C4} "),n(),l("ngIf",c.hasPending(e)),n(),l("ngIf",c.hasInProcess(e)),n(),l("ngIf",e.estadoGlobal==="Terminado"),n(),l("ngIf",e.expanded)}}function it(t,o){if(t&1&&(E(0),g(1,nt,22,16,"ng-container",77),k()),t&2){let e=o.$implicit;n(),l("ngForOf",e.tallaGroups)}}function ot(t,o){if(t&1&&(E(0),a(1,"div",100)(2,"table",101)(3,"thead")(4,"tr")(5,"th"),d(6,"PRODUCTO"),r(),a(7,"th"),d(8,"RACIONES"),r(),a(9,"th",102),d(10,"UD."),r(),a(11,"th"),d(12,"DETALLE RELLENOS"),r(),a(13,"th"),d(14,"ACCIONES"),r()()(),a(15,"tbody"),g(16,it,2,1,"ng-container",77),r()()(),k()),t&2){let e=s().ngIf;n(16),l("ngForOf",e[0].productGroups)}}function rt(t,o){if(t&1&&(a(0,"div",57),g(1,Ne,2,1,"ng-container",24)(2,ot,17,1,"ng-container",24),M(3,"app-empty-state",58),r()),t&2){let e=o.ngIf,i=s();n(),l("ngIf",i.groupByTimeSlot.value),n(),l("ngIf",!i.groupByTimeSlot.value&&e.length>0)}}function at(t,o){t&1&&M(0,"app-loading-state",147)}var be=class t{productionService=B(ce);productoService=B(_e);refresh$=new N(void 0);updatingId=null;isRefreshing=!0;upcomingThresholdHours=4;showUpcomingList=!0;showFilters=!1;activeStatuses=["Pendiente","En Proceso"];familiaFilter=new F("");productoFilter=new F("");fechaFilter=new F(I(new Date));selectedTimeSlots=[];groupByTimeSlot=new F(!0);familias$;filteredPedidos$;groupedPedidos$;upcomingPedidos$;counts$;formatDate=I;isToday=D;isUrgent=H;hasPending=ue;hasInProcess=xe;countByStatus=fe;constructor(){this.familias$=this.productoService.getProductos().pipe(T(o=>[...new Set(o.map(e=>e.familia))].sort()))}ngOnInit(){let o=this.refresh$.pipe(U(()=>{setTimeout(()=>this.isRefreshing=!0)}),R(()=>this.productionService.getPedidos().pipe(G(()=>{setTimeout(()=>this.isRefreshing=!1)}))),A(1)),e=$([o,this.familiaFilter.valueChanges.pipe(L(this.familiaFilter.value)),this.fechaFilter.valueChanges.pipe(L(this.fechaFilter.value)),this.refresh$.pipe(T(()=>this.selectedTimeSlots),L(this.selectedTimeSlots)),this.productoFilter.valueChanges.pipe(L(this.productoFilter.value))]).pipe(T(([i,c,p,b,_])=>i.filter(m=>!m.guardadoEnTienda||m.estado==="Entregado").filter(m=>m.estado!=="Cancelado").filter(m=>!c||m.producto.startsWith(c)||ge(m,c)).filter(m=>!_||m.producto.toLowerCase().includes(_.toLowerCase())).filter(m=>!p||I(m.fechaEntrega)===p).filter(m=>{if(!b||b.length===0)return!0;let P=new Date(m.fechaEntrega).getHours(),y=new Date(m.fechaEntrega).getMinutes(),w=P*60+y;return b.some(he=>{switch(he){case"ma\xF1ana-primera":return w<11*60;case"mediodia":return w>=11*60&&w<14*60;case"tarde-primera":return w>=14*60&&w<16*60;case"tarde-ultima":return w>=16*60;default:return!0}})})),A(1));this.filteredPedidos$=e.pipe(T(i=>i.filter(c=>!!(this.activeStatuses.length===0||this.activeStatuses.includes(c.estado)||this.activeStatuses.includes("Terminado")&&c.estado==="Entregado")).sort((c,p)=>{let b=new Date(c.fechaEntrega).getTime(),_=new Date(p.fechaEntrega).getTime();return b-_}))),this.groupedPedidos$=$([this.filteredPedidos$,this.groupByTimeSlot.valueChanges.pipe(L(this.groupByTimeSlot.value))]).pipe(T(([i,c])=>me(i,!!c))),this.upcomingPedidos$=o.pipe(T(i=>{let c=new Date,p=new Date(c.getTime()+this.upcomingThresholdHours*60*60*1e3);return i.filter(b=>!b.guardadoEnTienda).filter(b=>b.estado==="Pendiente").filter(b=>{let _=new Date(b.fechaEntrega);return _>c&&_<=p}).sort((b,_)=>new Date(b.fechaEntrega).getTime()-new Date(_.fechaEntrega).getTime())})),this.counts$=e.pipe(T(i=>({falta:i.filter(c=>c.estado==="Pendiente").length,enCurso:i.filter(c=>c.estado==="En Proceso").length,terminado:i.filter(c=>c.estado==="Terminado"||c.estado==="Entregado").length}))),setInterval(()=>this.refresh$.next(),3e4)}changeThreshold(o){this.upcomingThresholdHours=o,this.refresh$.next()}isStatusActive(o){return this.activeStatuses.includes(o)}toggleTimeSlot(o){o===""?this.selectedTimeSlots=[]:this.selectedTimeSlots.includes(o)?this.selectedTimeSlots=this.selectedTimeSlots.filter(e=>e!==o):this.selectedTimeSlots=[...this.selectedTimeSlots,o],this.refresh$.next()}toggleStatus(o){this.activeStatuses.includes(o)?this.activeStatuses=this.activeStatuses.filter(e=>e!==o):this.activeStatuses=[...this.activeStatuses,o],this.refresh$.next()}changeDay(o){let e=this.fechaFilter.value;if(!e)return;let i=new Date(e);i.setDate(i.getDate()+o),this.fechaFilter.setValue(I(i))}setToday(){this.fechaFilter.setValue(I(new Date))}setFechaToPedido(o){this.fechaFilter.setValue(I(o.fechaEntrega))}getTimeSlotLabel(o){switch(o){case"ma\xF1ana-primera":return"Hasta 11h";case"mediodia":return"Hasta 14h";case"tarde-primera":return"Hasta 16h";case"tarde-ultima":return"Hasta 24h";default:return"Cualquier hora"}}updateStatus(o,e){this.updatingId=o,this.productionService.updatePedidoStatus(o,e).subscribe({next:()=>{this.updatingId=null,this.refresh$.next()},error:i=>{alert(i.message),this.updatingId=null}})}updateGroupStatus(o,e){let i=[];if(e==="En Proceso"?i=o.pedidos.filter(p=>p.estado==="Pendiente"):e==="Terminado"?(i=o.pedidos.filter(p=>p.estado==="En Proceso"),i.length===0&&(i=o.pedidos.filter(p=>p.estado==="Pendiente"))):e==="Pendiente"&&(i=o.pedidos.filter(p=>p.estado!=="Pendiente")),i.length===0)return;this.isRefreshing=!0;let c=i.map(p=>this.productionService.updatePedidoStatus(p.id,e));$(c).pipe(G(()=>this.isRefreshing=!1)).subscribe({next:()=>this.refresh$.next(),error:p=>alert("Error al actualizar el grupo: "+p.message)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=q({type:t,selectors:[["app-obrador-pedidos-list"]],standalone:!0,features:[J],decls:55,vars:37,consts:[["loading",""],[1,"obrador-container"],["title","Producci\xF3n de Obrador"],["header-actions","",1,"header-actions"],[1,"threshold-wrapper"],[1,"threshold-label"],[1,"threshold-select",3,"change","value"],[3,"value"],[1,"auto-refresh"],[1,"dot"],[1,"quick-filters"],[1,"main-filter-row"],[1,"date-navigator"],[1,"btn-nav",3,"click"],[1,"calendar-wrapper"],["type","date",3,"formControl"],[1,"date-display"],[1,"timeslot-quick-nav"],[1,"ts-chip",3,"click"],[1,"toggle-group-wrapper"],[1,"toggle-btn",3,"click"],[1,"btn-more-filters",3,"click"],["class","extra-filters",4,"ngIf"],["class","status-summary-bar",4,"ngIf"],[4,"ngIf"],["class","production-groups",4,"ngIf","ngIfElse"],[1,"extra-filters"],[1,"filter-group"],["type","text","placeholder","Ej: Croissant, Tarta...",3,"formControl"],[3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mini-status-chips",4,"ngIf"],[1,"mini-status-chips"],[1,"mini-chip",3,"click"],[1,"dot","red"],[1,"dot","blue"],[1,"dot","green"],[1,"status-summary-bar"],["class","status-chips-inline",4,"ngIf"],[1,"status-chips-inline"],[1,"status-item",3,"click"],[1,"indicator","red"],[1,"indicator","blue"],[1,"indicator","green"],["class","alerts-section",4,"ngIf"],[1,"alerts-section"],[1,"alert-header",3,"click"],[1,"alert-icon"],[1,"chevron"],["class","upcoming-scroll",4,"ngIf"],[1,"upcoming-scroll"],["class","upcoming-mini-card",3,"click",4,"ngFor","ngForOf"],[1,"upcoming-mini-card",3,"click"],[1,"time"],[1,"name"],[1,"qty"],[1,"production-groups"],["title","No hay productos pendientes de producir."],["class","timeslot-group",4,"ngFor","ngForOf"],[1,"timeslot-group"],[1,"timeslot-header"],[1,"badge"],[1,"production-grid"],["class","product-group-card",3,"in-process","urgent","finished",4,"ngFor","ngForOf"],[1,"product-group-card"],[1,"product-group-header"],[1,"total-badge"],[1,"unit"],[1,"product-info"],[1,"talla-groups-container"],["class","talla-subgroup",3,"in-process","finished",4,"ngFor","ngForOf"],[1,"talla-subgroup"],[1,"talla-header"],[1,"talla-info"],[1,"talla-label"],[1,"rellenos-breakdown"],[4,"ngFor","ngForOf"],[1,"talla-qty-badge"],[1,"orders-container"],["class","order-item",3,"urgent",4,"ngFor","ngForOf"],["class","relleno-tag",3,"with-note",4,"ngIf"],[1,"relleno-tag"],["class","mini-note-dot",4,"ngIf"],[1,"mini-note-dot"],[1,"order-item"],[1,"order-main"],[1,"client"],[1,"actions"],[1,"btn-detail-toggle",3,"click"],["class","btn-action start",3,"disabled","click",4,"ngIf"],["class","btn-action finish",3,"disabled","click",4,"ngIf"],["class","done-mark",4,"ngIf"],["class","notes",4,"ngIf"],[1,"btn-action","start",3,"click","disabled"],[1,"btn-action","finish",3,"click","disabled"],[1,"done-mark"],[1,"notes"],["class","detail-relleno-text",4,"ngIf"],[1,"detail-relleno-text"],[1,"table-view-container"],[1,"production-table"],[1,"text-center"],[1,"td-product"],[1,"td-talla"],[1,"talla-main"],["class","note-warning-dot","title","Tiene notas",4,"ngIf"],[1,"td-total","text-center"],[1,"td-relleno"],[1,"table-rellenos"],[1,"td-actions"],[1,"table-group-actions"],["title","Ver desglose de pedidos",1,"btn-toggle-notes",3,"click"],["class","btn-t-action start",3,"click",4,"ngIf"],["class","btn-t-action finish",3,"click",4,"ngIf"],["class","done-check",4,"ngIf"],["title","Tiene notas",1,"note-warning-dot"],["class","table-r-badge",3,"r-note",4,"ngIf"],[1,"table-r-badge"],[1,"btn-t-action","start",3,"click"],[1,"btn-t-action","finish",3,"click"],[1,"done-check"],["title","Revertir a pendiente",1,"btn-undo",3,"click"],["class","tr-order-detail",3,"urgent",4,"ngFor","ngForOf"],[1,"tr-order-detail"],["colspan","5"],[1,"order-detail-content"],[1,"d-header-row"],[1,"d-p-name"],[1,"d-p-talla"],["class","d-p-relleno",4,"ngIf"],[1,"d-p-qty"],["class","d-note-row",4,"ngIf"],[1,"d-footer-row"],[1,"d-client-info"],[1,"d-p-time"],[1,"d-p-client"],[1,"d-p-actions"],["class","btn-mini-action start",3,"click",4,"ngIf"],["class","btn-mini-action finish",3,"click",4,"ngIf"],["class","done-mark-mini",4,"ngIf"],[1,"d-p-relleno"],[1,"d-note-row"],[1,"d-note-text"],[1,"btn-mini-action","start",3,"click"],[1,"btn-mini-action","finish",3,"click"],[1,"done-mark-mini"],["text","Cargando producci\xF3n..."]],template:function(e,i){if(e&1){let c=O();a(0,"div",1)(1,"app-pedidos-header",2)(2,"div",3)(3,"div",4)(4,"span",5),d(5,"Alertas pr\xF3ximas:"),r(),a(6,"select",6),x("change",function(b){return f(c),u(i.changeThreshold(+b.target.value))}),a(7,"option",7),d(8,"2h"),r(),a(9,"option",7),d(10,"4h"),r(),a(11,"option",7),d(12,"8h"),r(),a(13,"option",7),d(14,"24h"),r()()(),a(15,"div",8),M(16,"span",9),d(17," Auto-refresh 30s "),r()()(),a(18,"div",10)(19,"div",11)(20,"div",12)(21,"button",13),x("click",function(){return f(c),u(i.changeDay(-1))}),d(22,"\u2039"),r(),a(23,"div",14),M(24,"input",15),a(25,"span",16),d(26),S(27,"date"),r()(),a(28,"button",13),x("click",function(){return f(c),u(i.changeDay(1))}),d(29,"\u203A"),r()(),a(30,"div",17)(31,"button",18),x("click",function(){return f(c),u(i.toggleTimeSlot(""))}),d(32," Todo "),r(),a(33,"button",18),x("click",function(){return f(c),u(i.toggleTimeSlot("ma\xF1ana-primera"))}),d(34," -11h "),r(),a(35,"button",18),x("click",function(){return f(c),u(i.toggleTimeSlot("mediodia"))}),d(36," -14h "),r(),a(37,"button",18),x("click",function(){return f(c),u(i.toggleTimeSlot("tarde-primera"))}),d(38," -16h "),r(),a(39,"button",18),x("click",function(){return f(c),u(i.toggleTimeSlot("tarde-ultima"))}),d(40," -24h "),r()(),a(41,"div",19)(42,"button",20),x("click",function(){return f(c),u(i.groupByTimeSlot.setValue(!i.groupByTimeSlot.value))}),d(43),r()(),a(44,"button",21),x("click",function(){return f(c),u(i.showFilters=!i.showFilters)}),a(45,"span"),d(46),r()()(),g(47,Pe,18,8,"div",22),r(),g(48,we,3,3,"div",23)(49,Ee,2,1,"ng-container",24),S(50,"async"),g(51,rt,4,2,"div",25),S(52,"async"),g(53,at,1,0,"ng-template",null,0,Y),r()}if(e&2){let c=j(54);n(6),l("value",i.upcomingThresholdHours),n(),l("value",2),n(2),l("value",4),n(2),l("value",8),n(2),l("value",24),n(3),h("active",i.isRefreshing),n(8),l("formControl",i.fechaFilter),n(2),C(i.isToday(i.fechaFilter.value)?"HOY":V(27,30,i.fechaFilter.value,"dd/MM")),n(5),h("active",i.selectedTimeSlots.length===0),n(2),h("active",i.selectedTimeSlots.includes("ma\xF1ana-primera")),n(2),h("active",i.selectedTimeSlots.includes("mediodia")),n(2),h("active",i.selectedTimeSlots.includes("tarde-primera")),n(2),h("active",i.selectedTimeSlots.includes("tarde-ultima")),n(3),h("active",i.groupByTimeSlot.value),n(),v(" ",i.groupByTimeSlot.value?"\u{1F4C2} POR FRANJAS":"\u{1F4C4} LISTA \xDANICA"," "),n(),h("active",i.showFilters),n(2),C(i.showFilters?"\u2716":"\u{1F50D}"),n(),l("ngIf",i.showFilters),n(),l("ngIf",!i.showFilters),n(),l("ngIf",z(50,33,i.upcomingPedidos$)),n(2),l("ngIf",z(52,35,i.groupedPedidos$))("ngIfElse",c)}},dependencies:[X,Z,W,K,Q,de,re,ae,te,oe,ne,ie,ee,se,le,pe],styles:['@charset "UTF-8";.obrador-container[_ngcontent-%COMP%]{padding:20px;background:#f0f2f5;min-height:100vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#1e293b;font-weight:800}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex-wrap:wrap}.threshold-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff;padding:.4rem .8rem;border-radius:8px;border:1px solid #e2e8f0;box-shadow:0 1px 2px #0000000d}.threshold-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:#64748b;text-transform:uppercase}.threshold-select[_ngcontent-%COMP%]{border:none;background:transparent;font-size:.85rem;font-weight:700;color:#1e293b;cursor:pointer;padding:0;width:auto;height:auto}.threshold-select[_ngcontent-%COMP%]:focus{outline:none}.auto-refresh[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;display:flex;align-items:center;gap:6px;font-weight:600;background:#f1f5f9;padding:.4rem .8rem;border-radius:8px}.dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#cbd5e1;border-radius:50%}.dot.active[_ngcontent-%COMP%]{background:#22c55e;box-shadow:0 0 8px #22c55e66;animation:_ngcontent-%COMP%_pulse 2s infinite}.dot.red[_ngcontent-%COMP%]{background:#ef4444}.dot.blue[_ngcontent-%COMP%]{background:#3b82f6}.dot.green[_ngcontent-%COMP%]{background:#22c55e}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.6}to{transform:scale(1);opacity:1}}.quick-filters[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:16px;margin-bottom:25px;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008;border:1px solid #e2e8f0}.main-filter-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.date-navigator[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f8fafc;border-radius:12px;padding:4px;border:1px solid #e2e8f0;transition:all .2s}.date-navigator[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:#f1f5f9}.calendar-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;min-width:100px;padding:0 10px}.calendar-wrapper[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer}.date-display[_ngcontent-%COMP%]{font-weight:800;color:#1e293b;font-size:1rem;text-transform:uppercase}.timeslot-quick-nav[_ngcontent-%COMP%]{display:flex;gap:6px;flex-grow:1;overflow-x:auto;padding-bottom:4px}.ts-chip[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;padding:8px 16px;border-radius:10px;font-size:.85rem;font-weight:700;color:#64748b;cursor:pointer;white-space:nowrap;transition:all .2s cubic-bezier(.4,0,.2,1)}.ts-chip[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.ts-chip.active[_ngcontent-%COMP%]{background:#1e293b;color:#fff;border-color:#1e293b;box-shadow:0 8px 15px -3px #1e293b4d;transform:translateY(-1px)}.toggle-group-wrapper[_ngcontent-%COMP%]{margin:0 5px}.toggle-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;padding:8px 16px;border-radius:50px;font-size:.8rem;font-weight:800;color:#64748b;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;min-height:44px;display:flex;align-items:center;gap:8px}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1;transform:translateY(-1px)}.toggle-btn.active[_ngcontent-%COMP%]{background:#f1f5f9;color:#1e293b;border-color:#cbd5e1;box-shadow:inset 0 2px 4px #0000000d}.btn-more-filters[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;background:#f8fafc;border:1px solid #e2e8f0;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem}.btn-more-filters.active[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444;border-color:#fecaca}.extra-filters[_ngcontent-%COMP%]{border-top:1px dashed #e2e8f0;display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:700;color:#64748b;margin-bottom:6px;text-transform:uppercase}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 15px;border-radius:10px;border:1px solid #e2e8f0;background:#f8fafc;font-size:.9rem;font-weight:600;color:#1e293b;box-sizing:border-box}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff}.mini-status-chips[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.mini-chip[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;padding:6px 12px;border-radius:8px;font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:6px;cursor:pointer;width:auto;min-height:unset}.mini-chip.active[_ngcontent-%COMP%]{background:#fff;border-color:#3b82f6;box-shadow:0 0 0 1px #3b82f6}.status-summary-bar[_ngcontent-%COMP%]{margin-bottom:25px}.status-chips-inline[_ngcontent-%COMP%]{display:flex;gap:24px;background:#1e293b;padding:12px 24px;border-radius:16px;color:#fff;box-shadow:0 10px 15px -3px #0000001a}.status-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:.95rem;opacity:.7;cursor:pointer;transition:all .2s}.status-item[_ngcontent-%COMP%]:hover{opacity:.9}.status-item.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1.05)}.status-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem;font-family:JetBrains Mono,monospace}.indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:4px}.indicator.red[_ngcontent-%COMP%]{background:#e11d48}.indicator.blue[_ngcontent-%COMP%]{background:#3b82f6}.indicator.green[_ngcontent-%COMP%]{background:#10b981}.table-view-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008;border:1px solid #eef2f6}.production-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.production-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;padding:16px 20px;text-align:left;font-weight:800;color:#94a3b8;font-size:.7rem;text-transform:uppercase;letter-spacing:.12em;border-bottom:1px solid #f1f5f9;white-space:nowrap}.production-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:24px 20px;border-bottom:1px solid #f1f5f9;vertical-align:middle;transition:all .2s}.tr-urgent[_ngcontent-%COMP%]{background:#fff1f2}.tr-finished[_ngcontent-%COMP%]{opacity:.6}.td-product[_ngcontent-%COMP%]{font-weight:800;color:#0f172a;font-size:1.25rem;border-left:4px solid #3b82f6;width:180px}.td-talla[_ngcontent-%COMP%]{font-weight:800;color:#1e293b;font-size:1rem;width:140px}.td-total[_ngcontent-%COMP%]{font-size:2.5rem;color:#c2410c;font-weight:700;width:100px;text-align:center;font-family:JetBrains Mono,monospace}.table-rellenos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.table-r-badge[_ngcontent-%COMP%]{background:#fff;padding:6px 14px;border-radius:20px;font-size:.85rem;font-weight:700;border:1.5px solid #fed7aa;color:#7c2d12}.table-r-badge[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f97316;margin-left:4px}.talla-main[_ngcontent-%COMP%]{font-weight:800;display:flex;align-items:center;gap:8px}.note-warning-dot[_ngcontent-%COMP%]{font-size:1.1rem;animation:_ngcontent-%COMP%_nudge 2s linear infinite;display:inline-block}@keyframes _ngcontent-%COMP%_nudge{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.btn-toggle-notes[_ngcontent-%COMP%], .btn-detail-toggle[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#475569;padding:12px 24px;border-radius:50px;font-size:.8rem;font-weight:800;cursor:pointer;text-transform:uppercase;letter-spacing:.05em;transition:all .2s cubic-bezier(.4,0,.2,1);box-shadow:0 1px 3px #0000000d;display:inline-flex;align-items:center;justify-content:center;gap:6px;white-space:nowrap;min-height:46px;min-width:160px}.btn-detail-toggle[_ngcontent-%COMP%]{margin-right:5px}.btn-toggle-notes[_ngcontent-%COMP%]:hover{background:#e2e8f0;transform:translateY(-1px)}.btn-toggle-notes.active[_ngcontent-%COMP%]{background:#475569;color:#fff;border-color:#475569}.tr-order-detail[_ngcontent-%COMP%]{background:#f8fbff}.tr-order-detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0!important;border-bottom:2px solid #e2e8f0}.order-detail-content[_ngcontent-%COMP%]{padding:15px 20px;display:flex;flex-direction:column;gap:12px}.d-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.d-p-name[_ngcontent-%COMP%]{font-weight:700;color:#64748b;font-size:.9rem;text-transform:uppercase}.d-p-talla[_ngcontent-%COMP%]{font-weight:800;color:#1e293b;font-size:1rem}.d-p-relleno[_ngcontent-%COMP%]{background:#fff;border:1px solid #fed7aa;color:#c2410c;padding:4px 12px;border-radius:20px;font-weight:700;font-size:.85rem}.d-p-qty[_ngcontent-%COMP%]{background:#be185d;color:#fff;padding:4px 12px;border-radius:8px;font-weight:900;font-size:1.1rem;font-family:JetBrains Mono,monospace}.d-note-row[_ngcontent-%COMP%]{background:#fffbeb;border-left:4px solid #f59e0b;padding:8px 15px;border-radius:4px}.d-note-text[_ngcontent-%COMP%]{color:#92400e;font-weight:600;font-size:.9rem}.d-footer-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-top:1px dashed #e2e8f0;padding-top:10px}.d-client-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.d-p-time[_ngcontent-%COMP%]{font-weight:900;color:#64748b;font-size:1.1rem;font-family:JetBrains Mono,monospace}.d-p-client[_ngcontent-%COMP%]{font-weight:700;color:#1e293b;font-size:1rem}.d-p-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btn-mini-action[_ngcontent-%COMP%]{padding:6px 14px;border-radius:50px;font-weight:800;font-size:.65rem;border:none;cursor:pointer;text-transform:uppercase;transition:all .2s cubic-bezier(.4,0,.2,1);color:#fff;box-shadow:0 2px 4px #0000001a;min-height:44px}.btn-mini-action.start[_ngcontent-%COMP%]{background:#3b82f6}.btn-mini-action.start[_ngcontent-%COMP%]:hover{background:#2563eb;transform:scale(1.05)}.btn-mini-action.finish[_ngcontent-%COMP%]{background:#10b981}.btn-mini-action.finish[_ngcontent-%COMP%]:hover{background:#059669;transform:scale(1.05)}.done-mark-mini[_ngcontent-%COMP%]{color:#16a34a;font-weight:950;font-size:1.1rem;margin-right:10px}.table-group-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:flex-end}.btn-t-action[_ngcontent-%COMP%]{padding:12px 24px;border-radius:50px;border:none;font-weight:800;font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);color:#fff;box-shadow:0 4px 12px #0000001a;min-width:160px;min-height:46px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.btn-t-action.start[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);box-shadow:0 4px 14px #2563eb4d}.btn-t-action.start[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 6px 20px #2563eb66}.btn-t-action.finish[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 4px 14px #0596694d}.btn-t-action.finish[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 6px 20px #05966966}.btn-t-action[_ngcontent-%COMP%]:disabled, .btn-action[_ngcontent-%COMP%]:disabled, .btn-mini-action[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.btn-undo[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;color:#64748b;border-radius:6px;padding:4px 8px;cursor:pointer;font-size:.8rem;margin-left:10px;transition:all .2s}.btn-undo[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#0f172a;border-color:#cbd5e1}.done-check[_ngcontent-%COMP%]{color:#15803d;font-weight:900;font-size:.85rem;display:flex;align-items:center;justify-content:center;gap:6px;background:#f0fdf4;padding:8px;border-radius:10px}.text-center[_ngcontent-%COMP%]{text-align:center}.alerts-section[_ngcontent-%COMP%]{background:#fff5f5;border:1px solid #feb2b2;border-radius:12px;margin-bottom:25px;overflow:hidden}.alert-header[_ngcontent-%COMP%]{padding:12px 20px;display:flex;align-items:center;gap:12px;cursor:pointer;background:#fff5f5}.alert-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#c53030;flex-grow:1}.alert-icon[_ngcontent-%COMP%]{font-size:1.2rem}.chevron[_ngcontent-%COMP%]{color:#c53030;font-size:.8rem}.upcoming-scroll[_ngcontent-%COMP%]{display:flex;gap:12px;padding:0 15px 15px;overflow-x:auto;scroll-behavior:smooth}.upcoming-mini-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #feb2b2;border-left:4px solid #f56565;padding:10px 15px;border-radius:8px;min-width:200px;display:flex;flex-direction:column;gap:2px;cursor:pointer;transition:background .2s}.upcoming-mini-card[_ngcontent-%COMP%]:hover{background:#fffaf0}.upcoming-mini-card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-weight:900;color:#c53030;font-size:1.1rem}.upcoming-mini-card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#2d3748;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.upcoming-mini-card[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{font-size:.8rem;color:#718096}.timeslot-group[_ngcontent-%COMP%]{margin-bottom:2rem}.timeslot-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #e2e8f0}.timeslot-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:800;color:#1e293b;text-transform:uppercase;letter-spacing:.05em}.timeslot-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:2px 10px;border-radius:20px;font-size:.75rem;font-weight:700}.production-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.product-group-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000000d;overflow:hidden;display:flex;flex-direction:column;border-top:6px solid #95a5a6;transition:transform .2s}.product-group-card.in-process[_ngcontent-%COMP%]{border-top-color:#3498db}.product-group-card.urgent[_ngcontent-%COMP%]{border-top-color:#e74c3c;animation:_ngcontent-%COMP%_border-pulse 2s infinite}.product-group-card.finished[_ngcontent-%COMP%]{border-top-color:#2ecc71;opacity:.8}@keyframes _ngcontent-%COMP%_border-pulse{0%{border-top-color:#e74c3c}50%{border-top-color:#ff7675}to{border-top-color:#e74c3c}}.product-group-header[_ngcontent-%COMP%]{padding:15px;display:flex;align-items:center;gap:15px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.total-badge[_ngcontent-%COMP%]{background:#d35400;color:#fff;min-width:60px;height:60px;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 4px 6px #d3540033}.total-badge[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;line-height:1}.total-badge[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;text-transform:uppercase}.product-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:800;color:#1e293b;line-height:1.2}.talla-groups-container[_ngcontent-%COMP%]{background:#fff}.talla-subgroup[_ngcontent-%COMP%]{border-bottom:2px solid #f1f5f9}.talla-subgroup[_ngcontent-%COMP%]:last-child{border-bottom:none}.talla-subgroup.in-process[_ngcontent-%COMP%]{background:#eff6ff}.talla-subgroup.finished[_ngcontent-%COMP%]{background:#f0fdf4;opacity:.8}.talla-header[_ngcontent-%COMP%]{padding:10px 15px;background:#fdfcfb;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #f1f5f9}.talla-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.talla-label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:800;color:#7c2d12;text-transform:uppercase}.note-indicator[_ngcontent-%COMP%]{color:#d97706;font-size:.8rem;margin-left:4px;vertical-align:middle}.rellenos-breakdown[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-top:2px}.relleno-tag[_ngcontent-%COMP%]{font-size:.75rem;color:#9a3412;background:#fff;padding:1px 6px;border-radius:4px;border:1px solid #ffedd5;display:flex;align-items:center;gap:3px}.relleno-tag.with-note[_ngcontent-%COMP%]{border-color:#fbbf24;background:#fffbeb}.mini-note-dot[_ngcontent-%COMP%]{color:#d97706;font-size:.6rem}.talla-qty-badge[_ngcontent-%COMP%]{background:#fff;color:#9a3412;padding:2px 8px;border-radius:6px;font-size:.85rem;font-weight:800;border:1px solid #ffedd5}.orders-container[_ngcontent-%COMP%]{padding:10px;background:#fff;max-height:400px;overflow-y:auto}.order-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #f1f5f9}.order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-item.urgent[_ngcontent-%COMP%]{background:#fff5f5;border-left:4px solid #ef4444;border-radius:4px}.order-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.order-main[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-weight:800;color:#64748b;font-family:JetBrains Mono,monospace;font-size:.9rem}.order-main[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;color:#d35400;background:#fff7ed;padding:2px 8px;border-radius:6px;border:1px solid #ffedd5}.order-main[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]{font-weight:700;color:#1e293b;font-size:.95rem;flex-grow:1}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.btn-action[_ngcontent-%COMP%]{padding:6px 12px;font-size:.75rem;border-radius:6px;min-height:44px;width:auto}.btn-action.start[_ngcontent-%COMP%]{background:#3498db;color:#fff}.btn-action.finish[_ngcontent-%COMP%]{background:#2ecc71;color:#fff}.done-mark[_ngcontent-%COMP%]{color:#2ecc71;font-weight:700;font-size:1.2rem}.order-item[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]{margin-top:5px;padding:6px 10px;background:#fef9c3;border-radius:6px;font-size:.85rem;color:#854d0e;border-left:3px solid #facc15}.detail-relleno-text[_ngcontent-%COMP%]{color:#9d174d;font-weight:700;margin-bottom:2px}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{grid-column:1/-1;padding:50px;text-align:center;background:#fff;border-radius:12px;color:#666}@media (max-width: 992px){.td-total[_ngcontent-%COMP%]{font-size:1.8rem;width:80px}}@media (max-width: 768px){.obrador-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px;margin-bottom:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between;gap:8px}.quick-filters[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border-radius:12px}.main-filter-row[_ngcontent-%COMP%]{gap:8px}.date-navigator[_ngcontent-%COMP%]{padding:2px}.ts-chip[_ngcontent-%COMP%]{padding:5px 10px;font-size:.75rem}.toggle-btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:.7rem;min-height:38px}.status-chips-inline[_ngcontent-%COMP%]{padding:8px 12px;gap:12px;border-radius:12px}.status-item[_ngcontent-%COMP%]{font-size:.8rem;gap:6px}.status-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.95rem}.production-table[_ngcontent-%COMP%], .production-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .production-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .production-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .production-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.production-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.production-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.tr-order-detail){margin-bottom:12px;border:1px solid #eef2f6;border-radius:12px;background:#fff;padding:12px;display:flex!important;flex-wrap:wrap;align-items:center;position:relative}.production-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none!important;padding:4px 0!important;width:auto!important;background:transparent!important}.td-product[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:800;color:#0f172a;margin-right:8px!important;padding:0!important}.td-product[_ngcontent-%COMP%]:before{display:none}.td-talla[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:800;color:#1e293b;margin-right:0!important;padding:0!important;display:flex!important;align-items:center}.td-total[_ngcontent-%COMP%]{margin-left:auto!important;font-size:1.8rem!important;width:auto!important;text-align:right;color:#c2410c;padding:0!important;font-family:JetBrains Mono,monospace}.td-relleno[_ngcontent-%COMP%]{flex:0 0 100%;margin:8px 0!important}.table-r-badge[_ngcontent-%COMP%]{padding:4px 10px;font-size:.75rem}.td-actions[_ngcontent-%COMP%]{flex:0 0 100%;border-top:1px solid #f1f5f9!important;margin-top:8px!important;padding:12px 0 0!important;width:100%!important;display:block!important}.table-group-actions[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:8px;align-items:center;width:100%;display:flex!important}.btn-toggle-notes[_ngcontent-%COMP%], .btn-t-action[_ngcontent-%COMP%]{flex:1;min-width:0;padding:12px 10px!important;font-size:.75rem!important;height:48px;display:flex;align-items:center;justify-content:center;text-align:center}.tr-order-detail[_ngcontent-%COMP%]{margin:5px 0 12px;border-radius:12px;border:1px solid #eef2f6;padding:0;background:#fff;box-shadow:0 4px 6px #00000008;display:block!important;width:100%!important}.order-detail-content[_ngcontent-%COMP%]{padding:16px;gap:12px}.d-header-row[_ngcontent-%COMP%]{gap:10px}.d-p-qty[_ngcontent-%COMP%]{font-size:1rem;padding:2px 8px}.d-p-time[_ngcontent-%COMP%]{font-size:.95rem}.d-p-client[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.date-navigator[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.calendar-wrapper[_ngcontent-%COMP%]{flex-grow:1}.btn-more-filters[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:8px;margin-top:5px}}']})};export{be as ObradorPedidosListComponent};
