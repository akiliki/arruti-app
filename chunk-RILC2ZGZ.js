import{O as i}from"./chunk-WPZFAPEJ.js";var d=class n{adaptPedidos(a){return a.data.map(t=>({id:t.id,producto:t.producto,talla:t.talla,relleno:t.relleno,cantidad:t.cantidad,fechaEntrega:new Date(t.fecha),estado:this.mapEstado(t.estado_actual),fechaActualizacion:t.fecha_actualizacion?new Date(t.fecha_actualizacion):void 0,nombreCliente:t.nombre_cliente,notasPastelero:t.notas_pastelero,notasTienda:t.notas_tienda,vendedor:t.vendedor}))}adaptProductos(a){return(a.data||[]).map(t=>{let s=[],r=t.raciones_tallas;if(r!=null){let e=String(r).trim();e!==""&&(s=e.split(/[,/;|]+/).map(o=>o.trim()).filter(o=>o!==""))}return{id:t.id_producto,familia:t.familia||"Sin Familia",producto:t.nombre||"Sin nombre",tallasRaciones:s,rellenos:t.rellenos?t.rellenos.split(/[,/;|]+/).map(e=>e.trim()).filter(e=>e!==""):[]}})}prepareProductoForPost(a){return{id_producto:a.id,familia:a.familia,nombre:a.producto,raciones_tallas:a.tallasRaciones.join(", "),rellenos:a.rellenos.join(", ")}}adaptStats(a){return a.stats?{totalPendientes:a.stats.pendientes??0,enHorno:a.stats.horno??0,producidosHoy:a.stats.producidos??0,entregadosHoy:a.stats.entregados??0}:{totalPendientes:0,enHorno:0,producidosHoy:0,entregadosHoy:0}}adaptEmpleados(a){return(a.data||[]).map(t=>({id:t.id,nombre:t.nombre,activo:!!t.activo}))}prepareForPost(a){return{id:a.id,producto:a.producto,talla:a.talla||"",relleno:a.relleno||"",cantidad:a.cantidad,fechaEntrega:a.fechaEntrega instanceof Date?a.fechaEntrega.toISOString():a.fechaEntrega,estado:a.estado||"Pendiente",nombre_cliente:a.nombreCliente||"",notas_pastelero:a.notasPastelero||"",notas_tienda:a.notasTienda||"",vendedor:a.vendedor||""}}mapEstado(a){switch(a){case"Pendiente":return"Pendiente";case"En Proceso":return"En Proceso";case"Producido":return"Producido";case"Entregado":return"Entregado";case"Finalizado":return"Producido";default:return"Pendiente"}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=i({token:n,factory:n.\u0275fac,providedIn:"root"})};var u={production:!1,apiUrl:"https://script.google.com/macros/s/AKfycbzStq-JJJT6ZZEq_JLOTNrqSHGvCTPXIKuOVdIcpdlRG9j_RdoTx40u2H1Q79lE6YbI/exec"};export{d as a,u as b};
