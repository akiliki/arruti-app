import{O as i}from"./chunk-WPZFAPEJ.js";var d=class e{adaptPedidos(t){return t.data.map(a=>({id:a.id,producto:a.producto,cantidad:a.cantidad,fechaEntrega:new Date(a.fecha),estado:this.mapEstado(a.estado_actual),fechaActualizacion:a.fecha_actualizacion?new Date(a.fecha_actualizacion):void 0,nombreCliente:a.nombre_cliente,notasPastelero:a.notas_pastelero,notasTienda:a.notas_tienda}))}adaptProductos(t){return(t.data||[]).map(a=>{let s=[],r=a.raciones_tallas;if(r!=null){let n=String(r).trim();n!==""&&(s=n.split(/[,/;|]+/).map(o=>o.trim()).filter(o=>o!==""))}return{id:a.id_producto,familia:a.familia||"Sin Familia",producto:a.nombre||"Sin nombre",tallasRaciones:s,rellenos:a.rellenos?a.rellenos.split(/[,/;|]+/).map(n=>n.trim()).filter(n=>n!==""):[]}})}prepareProductoForPost(t){return{id_producto:t.id,familia:t.familia,nombre:t.producto,raciones_tallas:t.tallasRaciones.join(", "),rellenos:t.rellenos.join(", ")}}adaptStats(t){return t.stats?{totalPendientes:t.stats.pendientes??0,enHorno:t.stats.horno??0,producidosHoy:t.stats.producidos??0,entregadosHoy:t.stats.entregados??0}:{totalPendientes:0,enHorno:0,producidosHoy:0,entregadosHoy:0}}prepareForPost(t){return{id:t.id,producto:t.producto,cantidad:t.cantidad,fechaEntrega:t.fechaEntrega instanceof Date?t.fechaEntrega.toISOString():t.fechaEntrega,estado:t.estado||"Pendiente",nombre_cliente:t.nombreCliente||"",notas_pastelero:t.notasPastelero||"",notas_tienda:t.notasTienda||""}}mapEstado(t){switch(t){case"Pendiente":return"Pendiente";case"En Proceso":return"En Proceso";case"Producido":return"Producido";case"Entregado":return"Entregado";case"Finalizado":return"Producido";default:return"Pendiente"}}static \u0275fac=function(a){return new(a||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var u={production:!1,apiUrl:"https://script.google.com/macros/s/AKfycbwprdDKPCOD8NNQdKE9FSpw1JtqJRO4-BPZLwv4rudB1r-v3pnv7bgUICno1v-AahHU/exec"};export{d as a,u as b};
