import{a as A}from"./chunk-5XCCOOFA.js";import{a as L,c as $,e as v,h as N,k as T,l as k,m as R,o as D}from"./chunk-VMF2UI2V.js";import"./chunk-EPLH7U5S.js";import{$ as E,Ba as w,D as a,I as p,K as d,N as n,O as t,P as h,U as O,V as u,W as i,X as c,ca as g,da as b,fa as _,h as s,i as C,l as f,ma as y,na as S,oa as M,qa as F,t as x,u as P,ya as I}from"./chunk-3J4ERITL.js";function z(o,r){if(o&1&&(n(0,"option",12),i(1),t()),o&2){let e=r.$implicit;d("value",e),a(),c(e)}}function W(o,r){if(o&1&&(n(0,"tr")(1,"td")(2,"span",16),i(3),t()(),n(4,"td")(5,"strong"),i(6),t()(),n(7,"td"),i(8),t()()),o&2){let e=r.$implicit;a(3),c(e.familia),a(3),c(e.producto),a(2),c(e.tallasRaciones.join(", ")||"-")}}function q(o,r){if(o&1&&(n(0,"table")(1,"thead")(2,"tr")(3,"th"),i(4,"Familia"),t(),n(5,"th"),i(6,"Producto"),t(),n(7,"th"),i(8,"Raciones/Tallas"),t()()(),n(9,"tbody"),p(10,W,9,3,"tr",15),t()()),o&2){let e=O().ngIf;a(10),d("ngForOf",e)}}function G(o,r){o&1&&(n(0,"div",17)(1,"p"),i(2,"No se encontraron productos con los filtros seleccionados."),t()())}function H(o,r){if(o&1&&(n(0,"div",13),p(1,q,11,1,"table",14)(2,G,3,0,"ng-template",null,1,_),t()),o&2){let e=r.ngIf,l=u(3);a(),d("ngIf",e.length>0)("ngIfElse",l)}}function J(o,r){o&1&&(n(0,"div",18),i(1,"Cargando cat\xE1logo..."),t())}var j=class o{productoService=x(A);familiaFilter=new v("");nombreFilter=new v("");productos$;filteredProductos$;familias$;ngOnInit(){this.productos$=this.productoService.getProductos(),this.familias$=this.productos$.pipe(s(r=>Array.from(new Set(r.map(e=>e.familia))).sort())),this.filteredProductos$=C([this.productos$,this.familiaFilter.valueChanges.pipe(f("")),this.nombreFilter.valueChanges.pipe(f(""))]).pipe(s(([r,e,l])=>r.filter(m=>{let B=!e||m.familia===e,V=!l||m.producto.toLowerCase().includes(l.toLowerCase());return B&&V})))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-productos-list"]],standalone:!0,features:[E],decls:23,vars:9,consts:[["loading",""],["empty",""],[1,"list-container"],[1,"header"],["routerLink","/nuevo-producto",1,"btn-new"],[1,"filters"],[1,"filter-group"],[3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Filtrar por nombre...",3,"formControl"],["class","table-wrapper",4,"ngIf","ngIfElse"],[3,"value"],[1,"table-wrapper"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"badge"],[1,"empty-state"],[1,"loading"]],template:function(e,l){if(e&1&&(n(0,"div",2)(1,"div",3)(2,"h2"),i(3,"Cat\xE1logo de Productos"),t(),n(4,"button",4),i(5,"Nuevo Producto"),t()(),n(6,"div",5)(7,"div",6)(8,"label"),i(9,"Familia:"),t(),n(10,"select",7)(11,"option",8),i(12,"Todas"),t(),p(13,z,2,2,"option",9),g(14,"async"),t()(),n(15,"div",6)(16,"label"),i(17,"Buscar Producto:"),t(),h(18,"input",10),t()(),p(19,H,4,2,"div",11),g(20,"async"),p(21,J,2,0,"ng-template",null,0,_),t()),e&2){let m=u(22);a(10),d("formControl",l.familiaFilter),a(3),d("ngForOf",b(14,5,l.familias$)),a(5),d("formControl",l.nombreFilter),a(),d("ngIf",b(20,7,l.filteredProductos$))("ngIfElse",m)}},dependencies:[F,y,S,M,D,k,R,L,T,$,N,w,I],styles:[".list-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;background:#f9f9f9;padding:1rem;border-radius:8px}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000000d}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #eee}th[_ngcontent-%COMP%]{background:#f4f4f4;font-weight:600;color:#666}.badge[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:.25rem .5rem;border-radius:4px;font-size:.85rem;font-weight:600}.btn-new[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-weight:600;text-decoration:none}.btn-new[_ngcontent-%COMP%]:hover{background:#45a049}.empty-state[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}"]})};export{j as ProductosListComponent};
