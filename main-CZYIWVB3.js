import{a as h}from"./chunk-3CM2T4LY.js";import{c as A,d as V,f as R,g as C,h as D,i as E,j as F,k as j}from"./chunk-PY7FXQZV.js";import{Aa as M,Ka as O,Na as d,Oa as k,Pb as I,Qa as r,Ra as a,Sa as g,Tb as L,V as P,Va as f,Wa as u,Wb as N,Xa as c,Z as _,cb as l,db as w,ga as s,ha as m,hb as v,lb as S,mb as y,wb as T,za as p}from"./chunk-CMV2EMBO.js";var U=()=>{let e=P(h),o=P(C);return e.isLoggedIn()?!0:o.parseUrl("/login")};var z=[{path:"login",loadComponent:()=>import("./chunk-GXAZGO5I.js").then(e=>e.LoginComponent)},{path:"",canActivate:[U],children:[{path:"",redirectTo:"pedidos",pathMatch:"full"},{path:"pedidos",loadComponent:()=>import("./chunk-IO67L2F5.js").then(e=>e.TiendaPedidosListComponent)},{path:"obrador",loadComponent:()=>import("./chunk-HYDPQMF5.js").then(e=>e.ObradorPedidosListComponent)},{path:"nuevo-pedido",loadComponent:()=>import("./chunk-PNMIWY6Z.js").then(e=>e.TiendaPedidoFormComponent)},{path:"pedidos/editar/:id",loadComponent:()=>import("./chunk-PNMIWY6Z.js").then(e=>e.TiendaPedidoFormComponent)},{path:"pedidos/:id/estado",loadComponent:()=>import("./chunk-5BFIOQMI.js").then(e=>e.TiendaUpdateStatusComponent)},{path:"productos",loadComponent:()=>import("./chunk-2YGYUBTP.js").then(e=>e.ProductosListComponent)},{path:"nuevo-producto",loadComponent:()=>import("./chunk-4YHRER23.js").then(e=>e.ProductoFormComponent)},{path:"productos/editar/:id",loadComponent:()=>import("./chunk-4YHRER23.js").then(e=>e.ProductoFormComponent)},{path:"productos/:id/receta/nueva",loadComponent:()=>import("./chunk-JR6RENPH.js").then(e=>e.RecetaFormComponent)},{path:"productos/:id/receta/:idReceta",loadComponent:()=>import("./chunk-JR6RENPH.js").then(e=>e.RecetaFormComponent)},{path:"productos/:id",loadComponent:()=>import("./chunk-BBN6DFMI.js").then(e=>e.ProductoDetailComponent)},{path:"recetas",loadComponent:()=>import("./chunk-TXCAAQN5.js").then(e=>e.AllRecetasListComponent)},{path:"recetas/:id",loadComponent:()=>import("./chunk-TMPSBTHM.js").then(e=>e.RecetaDetailComponent)},{path:"pedidos/:id",loadComponent:()=>import("./chunk-PZIGD2U3.js").then(e=>e.TiendaPedidoDetailComponent)},{path:"obrador/pedidos/:id",loadComponent:()=>import("./chunk-UXCUFVML.js").then(e=>e.ObradorPedidoDetailComponent)},{path:"seguridad",loadComponent:()=>import("./chunk-SIJELZRL.js").then(e=>e.SeguridadComponent),children:[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",loadComponent:()=>import("./chunk-ZE6QWP57.js").then(e=>e.UsuariosListComponent)},{path:"perfiles",loadComponent:()=>import("./chunk-GKCSL5DD.js").then(e=>e.PerfilesListComponent)}]}]}];var G={providers:[T({eventCoalescing:!0}),F(z),A()]};function Z(e,o){if(e&1){let t=f();r(0,"li")(1,"a",11),u("click",function(){s(t);let i=c(2);return m(i.isMenuOpen=!1)}),l(2,"Tienda"),a()()}}function $(e,o){if(e&1){let t=f();r(0,"li")(1,"a",12),u("click",function(){s(t);let i=c(2);return m(i.isMenuOpen=!1)}),l(2,"Obrador"),a()()}}function q(e,o){if(e&1){let t=f();r(0,"li")(1,"a",13),u("click",function(){s(t);let i=c(2);return m(i.isMenuOpen=!1)}),l(2,"Recetas"),a()()}}function J(e,o){if(e&1){let t=f();r(0,"li")(1,"a",14),u("click",function(){s(t);let i=c(2);return m(i.isMenuOpen=!1)}),l(2,"Cat\xE1logo"),a()()}}function K(e,o){if(e&1){let t=f();r(0,"li")(1,"a",15),u("click",function(){s(t);let i=c(2);return m(i.isMenuOpen=!1)}),l(2,"Seguridad"),a()()}}function Q(e,o){if(e&1){let t=f();r(0,"nav",1)(1,"div",2)(2,"a",3),l(3,"Pasteler\xEDa Arruti"),a(),r(4,"button",4),u("click",function(){s(t);let i=c();return m(i.toggleMenu())}),g(5,"span",5)(6,"span",5)(7,"span",5),a()(),r(8,"ul",6),O(9,Z,3,0,"li",7)(10,$,3,0,"li",7)(11,q,3,0,"li",7)(12,J,3,0,"li",7)(13,K,3,0,"li",7),r(14,"li",8)(15,"span",9),l(16),a(),r(17,"button",10),u("click",function(){s(t);let i=c();return m(i.logout())}),l(18,"Salir"),a()()()()}if(e&2){let t=o.ngIf,n=c();p(2),d("routerLink",n.authService.getDefaultRoute(t.perfilId)),p(6),k("open",n.isMenuOpen),p(),d("ngIf",n.authService.hasPermission(t.perfilId,"tienda")),p(),d("ngIf",n.authService.hasPermission(t.perfilId,"obrador")),p(),d("ngIf",n.authService.hasPermission(t.perfilId,"obrador")||n.authService.hasPermission(t.perfilId,"catalogo")),p(),d("ngIf",n.authService.hasPermission(t.perfilId,"catalogo")),p(),d("ngIf",n.authService.hasPermission(t.perfilId,"seguridad")),p(3),w(t.nombre)}}var b=class e{constructor(o,t){this.authService=o;this.router=t}isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.isMenuOpen=!1,this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(M(h),M(C))};static \u0275cmp=_({type:e,selectors:[["app-navbar"]],standalone:!0,features:[v],decls:2,vars:3,consts:[["class","navbar",4,"ngIf"],[1,"navbar"],[1,"navbar-brand"],[1,"logo",3,"routerLink"],["aria-label","Toggle navigation",1,"navbar-toggle",3,"click"],[1,"bar"],[1,"navbar-nav"],[4,"ngIf"],[1,"user-info"],[1,"user-name"],[1,"btn-logout",3,"click"],["routerLink","/pedidos","routerLinkActive","active",3,"click"],["routerLink","/obrador","routerLinkActive","active",3,"click"],["routerLink","/recetas","routerLinkActive","active",3,"click"],["routerLink","/productos","routerLinkActive","active",3,"click"],["routerLink","/seguridad","routerLinkActive","active",3,"click"]],template:function(t,n){t&1&&(O(0,Q,19,9,"nav",0),S(1,"async")),t&2&&d("ngIf",y(1,1,n.authService.currentUser$))},dependencies:[N,I,L,j,D,E],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#3f51b5;color:#fff;padding:0 1rem;height:64px;box-shadow:0 2px 4px #0000001a;z-index:1000;position:relative}.navbar-brand[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.navbar-toggle[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:30px;height:21px;background:none;border:none;cursor:pointer;padding:0;min-height:44px;min-width:44px}.navbar-toggle[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:3px;width:100%;background-color:#fff;border-radius:10px}.navbar-nav[_ngcontent-%COMP%]{list-style:none;display:flex;align-items:center;gap:1.5rem;margin:0;padding:0}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;font-weight:500;padding:.5rem 0;border-bottom:2px solid transparent;transition:all .2s}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:1rem;border-left:1px solid rgba(255,255,255,.3);padding-left:1rem}.btn-logout[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:.25rem .75rem;border-radius:4px;cursor:pointer;min-height:44px}.btn-logout[_ngcontent-%COMP%]:hover{background:#ffffff1a}.navbar-toggle[_ngcontent-%COMP%]:focus-visible, .navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, .btn-logout[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:2px}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;height:auto;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{width:100%}.navbar-toggle[_ngcontent-%COMP%]{display:flex}.navbar-nav[_ngcontent-%COMP%]{display:none;flex-direction:column;width:100%;gap:0;margin-top:1rem}.navbar-nav.open[_ngcontent-%COMP%]{display:flex}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.75rem 0;width:100%;border-bottom:1px solid rgba(255,255,255,.1);min-height:44px}.user-info[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;margin-left:0;padding-left:0;border-left:none;padding-top:1rem;width:100%}.btn-logout[_ngcontent-%COMP%]{width:auto}}"]})};var x=class e{title="arruti-app";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=_({type:e,selectors:[["app-root"]],standalone:!0,features:[v],decls:3,vars:0,consts:[[1,"main-content"]],template:function(t,n){t&1&&(g(0,"app-navbar"),r(1,"main",0),g(2,"router-outlet"),a())},dependencies:[R,b]})};V(x,G).catch(e=>console.error(e));
