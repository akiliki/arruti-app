import{a as k,c as $,e as v,h as N,k as T,l as R,m as A,o as D}from"./chunk-J4TYNHYF.js";import{a as j}from"./chunk-QGIMQF2O.js";import"./chunk-EAY7Z6F7.js";import{$ as g,D as a,I as c,K as d,N as o,O as e,P as h,S as O,T as u,U as i,V as p,Z as E,_ as S,aa as b,ca as _,h as s,i as C,ka as y,l as f,la as M,ma as F,oa as w,t as x,u as P,wa as I,za as L}from"./chunk-II2SJXWV.js";var W=n=>["/productos",n];function q(n,r){if(n&1&&(o(0,"option",12),i(1),e()),n&2){let t=r.$implicit;d("value",t),a(),p(t)}}function G(n,r){if(n&1&&(o(0,"tr")(1,"td")(2,"span",16),i(3),e()(),o(4,"td")(5,"strong"),i(6),e()(),o(7,"td"),i(8),e(),o(9,"td")(10,"button",17),i(11," Ver detalle "),e()()()),n&2){let t=r.$implicit;a(3),p(t.familia),a(3),p(t.producto),a(2),p(t.tallasRaciones.join(", ")||"-"),a(2),d("routerLink",S(4,W,t.id))}}function H(n,r){if(n&1&&(o(0,"table")(1,"thead")(2,"tr")(3,"th"),i(4,"Familia"),e(),o(5,"th"),i(6,"Producto"),e(),o(7,"th"),i(8,"Raciones/Tallas"),e(),o(9,"th"),i(10,"Acciones"),e()()(),o(11,"tbody"),c(12,G,12,6,"tr",15),e()()),n&2){let t=O().ngIf;a(12),d("ngForOf",t)}}function J(n,r){n&1&&(o(0,"div",18)(1,"p"),i(2,"No se encontraron productos con los filtros seleccionados."),e()())}function K(n,r){if(n&1&&(o(0,"div",13),c(1,H,13,1,"table",14)(2,J,3,0,"ng-template",null,1,_),e()),n&2){let t=r.ngIf,l=u(3);a(),d("ngIf",t.length>0)("ngIfElse",l)}}function Q(n,r){n&1&&(o(0,"div",19),i(1,"Cargando cat\xE1logo..."),e())}var B=class n{productoService=x(j);familiaFilter=new v("");nombreFilter=new v("");productos$;filteredProductos$;familias$;ngOnInit(){this.productos$=this.productoService.getProductos(),this.familias$=this.productos$.pipe(s(r=>Array.from(new Set(r.map(t=>t.familia))).sort())),this.filteredProductos$=C([this.productos$,this.familiaFilter.valueChanges.pipe(f("")),this.nombreFilter.valueChanges.pipe(f(""))]).pipe(s(([r,t,l])=>r.filter(m=>{let V=!t||m.familia===t,z=!l||m.producto.toLowerCase().includes(l.toLowerCase());return V&&z})))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["app-productos-list"]],standalone:!0,features:[E],decls:23,vars:9,consts:[["loading",""],["empty",""],[1,"list-container"],[1,"header"],["routerLink","/nuevo-producto",1,"btn-new"],[1,"filters"],[1,"filter-group"],[3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Filtrar por nombre...",3,"formControl"],["class","table-wrapper",4,"ngIf","ngIfElse"],[3,"value"],[1,"table-wrapper"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"badge"],[1,"btn-detail",3,"routerLink"],[1,"empty-state"],[1,"loading"]],template:function(t,l){if(t&1&&(o(0,"div",2)(1,"div",3)(2,"h2"),i(3,"Cat\xE1logo de Productos"),e(),o(4,"button",4),i(5,"Nuevo Producto"),e()(),o(6,"div",5)(7,"div",6)(8,"label"),i(9,"Familia:"),e(),o(10,"select",7)(11,"option",8),i(12,"Todas"),e(),c(13,q,2,2,"option",9),g(14,"async"),e()(),o(15,"div",6)(16,"label"),i(17,"Buscar Producto:"),e(),h(18,"input",10),e()(),c(19,K,4,2,"div",11),g(20,"async"),c(21,Q,2,0,"ng-template",null,0,_),e()),t&2){let m=u(22);a(10),d("formControl",l.familiaFilter),a(3),d("ngForOf",b(14,5,l.familias$)),a(5),d("formControl",l.nombreFilter),a(),d("ngIf",b(20,7,l.filteredProductos$))("ngIfElse",m)}},dependencies:[w,y,M,F,D,R,A,k,T,$,N,L,I],styles:[".list-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;background:#f9f9f9;padding:1rem;border-radius:8px}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000000d}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #eee}th[_ngcontent-%COMP%]{background:#f4f4f4;font-weight:600;color:#666}.badge[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:.25rem .5rem;border-radius:4px;font-size:.85rem;font-weight:600}.btn-new[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-weight:600;text-decoration:none}.btn-new[_ngcontent-%COMP%]:hover{background:#45a049}.btn-detail[_ngcontent-%COMP%]{background:#34495e;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:.85rem;font-weight:500}.btn-detail[_ngcontent-%COMP%]:hover{background:#2c3e50}.empty-state[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}"]})};export{B as ProductosListComponent};
