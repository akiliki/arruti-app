import{a as x}from"./chunk-ZLNCPNJ7.js";import{b as F,c,d as y,e as M,g as I,j as w,m as E,q as P,r as N}from"./chunk-74UN4DIZ.js";import{h as _}from"./chunk-MLTMCV35.js";import{$a as a,Ja as u,Jb as h,Ma as s,Mb as S,Pa as r,Qa as o,Ra as p,Va as f,Wa as b,Z as g,bb as v,eb as C,ya as m,za as d}from"./chunk-ISGLS2OQ.js";function G(i,l){i&1&&(r(0,"div",11),a(1," Email v\xE1lido requerido "),o())}function L(i,l){if(i&1&&(r(0,"div",12),a(1),o()),i&2){let e=b();m(),v(" ",e.error," ")}}var O=class i{constructor(l,e,t){this.fb=l;this.authService=e;this.router=t;this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required]]})}loginForm;error=null;onSubmit(){if(this.loginForm.valid){let{email:l,password:e}=this.loginForm.value;this.authService.login(l,e).subscribe(t=>{if(t){let n=JSON.parse(localStorage.getItem("user")||"{}"),D=this.authService.getDefaultRoute(n.perfilId);this.router.navigate([D])}else this.error="Credenciales incorrectas"})}}static \u0275fac=function(e){return new(e||i)(d(P),d(x),d(_))};static \u0275cmp=g({type:i,selectors:[["app-login"]],standalone:!0,features:[C],decls:17,vars:4,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],[1,"error"],[1,"error-message"]],template:function(e,t){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Pasteler\xEDa Arruti"),o(),r(4,"form",2),f("ngSubmit",function(){return t.onSubmit()}),r(5,"div",3)(6,"label",4),a(7,"Email"),o(),p(8,"input",5),u(9,G,2,0,"div",6),o(),r(10,"div",3)(11,"label",7),a(12,"Contrase\xF1a"),o(),p(13,"input",8),o(),u(14,L,2,1,"div",9),r(15,"button",10),a(16,"Iniciar Sesi\xF3n"),o()()()()),e&2){let n;m(4),s("formGroup",t.loginForm),m(5),s("ngIf",((n=t.loginForm.get("email"))==null?null:n.touched)&&((n=t.loginForm.get("email"))==null?null:n.invalid)),m(5),s("ngIf",t.error),m(),s("disabled",t.loginForm.invalid)}},dependencies:[S,h,N,I,F,y,M,w,E],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:400px}h2[_ngcontent-%COMP%]{text-align:center;color:#3f51b5;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#3f51b5;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1rem}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:.8rem;margin-top:.25rem}.error-message[_ngcontent-%COMP%]{color:red;margin-bottom:1rem;text-align:center}"]})};export{O as LoginComponent};
