import{a as h}from"./chunk-XEJ54FTU.js";import{c as L,d as V,e as D,g as R,h as C,i as E,j as F,k as j,l as U}from"./chunk-Z77WTJM6.js";import{Aa as M,Ka as O,Na as m,Nb as I,Oa as w,Qa as i,Ra as a,Rb as N,Sa as g,Tb as A,V as P,Va as f,Wa as u,Xa as c,Z as _,cb as l,db as k,ga as s,ha as d,hb as v,kb as y,lb as S,ub as T,za as p}from"./chunk-KPOQCY7D.js";var z=()=>{let e=P(h),o=P(C);return e.isLoggedIn()?!0:o.parseUrl("/login")};var G=[{path:"login",loadComponent:()=>import("./chunk-42YY27RQ.js").then(e=>e.LoginComponent)},{path:"",canActivate:[z],children:[{path:"",redirectTo:"pedidos",pathMatch:"full"},{path:"pedidos",loadComponent:()=>import("./chunk-UHK5KQBE.js").then(e=>e.TiendaPedidosListComponent)},{path:"obrador",loadComponent:()=>import("./chunk-4P3JBSNJ.js").then(e=>e.ObradorPedidosListComponent)},{path:"nuevo-pedido",loadComponent:()=>import("./chunk-Y7AMYGY3.js").then(e=>e.TiendaPedidoFormComponent)},{path:"pedidos/editar/:id",loadComponent:()=>import("./chunk-Y7AMYGY3.js").then(e=>e.TiendaPedidoFormComponent)},{path:"pedidos/:id/estado",loadComponent:()=>import("./chunk-7Q5NCBUO.js").then(e=>e.TiendaUpdateStatusComponent)},{path:"productos",loadComponent:()=>import("./chunk-X3CB734P.js").then(e=>e.ProductosListComponent)},{path:"nuevo-producto",loadComponent:()=>import("./chunk-IIXN6EL2.js").then(e=>e.ProductoFormComponent)},{path:"productos/editar/:id",loadComponent:()=>import("./chunk-IIXN6EL2.js").then(e=>e.ProductoFormComponent)},{path:"productos/:id",loadComponent:()=>import("./chunk-GRWLUI3E.js").then(e=>e.ProductoDetailComponent)},{path:"pedidos/:id",loadComponent:()=>import("./chunk-D3ILOQDF.js").then(e=>e.TiendaPedidoDetailComponent)},{path:"obrador/pedidos/:id",loadComponent:()=>import("./chunk-2FKFYRPZ.js").then(e=>e.ObradorPedidoDetailComponent)},{path:"seguridad",loadComponent:()=>import("./chunk-5AKLO3NZ.js").then(e=>e.SeguridadComponent),children:[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",loadComponent:()=>import("./chunk-UE5A72HM.js").then(e=>e.UsuariosListComponent)},{path:"perfiles",loadComponent:()=>import("./chunk-B5FZRDTK.js").then(e=>e.PerfilesListComponent)}]}]}];var B={providers:[T({eventCoalescing:!0}),j(G),L(V())]};function $(e,o){if(e&1){let t=f();i(0,"li")(1,"a",11),u("click",function(){s(t);let r=c(2);return d(r.isMenuOpen=!1)}),l(2,"Tienda"),a()()}}function q(e,o){if(e&1){let t=f();i(0,"li")(1,"a",12),u("click",function(){s(t);let r=c(2);return d(r.isMenuOpen=!1)}),l(2,"Obrador"),a()()}}function J(e,o){if(e&1){let t=f();i(0,"li")(1,"a",13),u("click",function(){s(t);let r=c(2);return d(r.isMenuOpen=!1)}),l(2,"Cat\xE1logo"),a()()}}function K(e,o){if(e&1){let t=f();i(0,"li")(1,"a",14),u("click",function(){s(t);let r=c(2);return d(r.isMenuOpen=!1)}),l(2,"Seguridad"),a()()}}function Q(e,o){if(e&1){let t=f();i(0,"nav",1)(1,"div",2)(2,"a",3),l(3,"Pasteler\xEDa Arruti"),a(),i(4,"button",4),u("click",function(){s(t);let r=c();return d(r.toggleMenu())}),g(5,"span",5)(6,"span",5)(7,"span",5),a()(),i(8,"ul",6),O(9,$,3,0,"li",7)(10,q,3,0,"li",7)(11,J,3,0,"li",7)(12,K,3,0,"li",7),i(13,"li",8)(14,"span",9),l(15),a(),i(16,"button",10),u("click",function(){s(t);let r=c();return d(r.logout())}),l(17,"Salir"),a()()()()}if(e&2){let t=o.ngIf,n=c();p(2),m("routerLink",n.authService.getDefaultRoute(t.perfilId)),p(6),w("open",n.isMenuOpen),p(),m("ngIf",n.authService.hasPermission(t.perfilId,"tienda")),p(),m("ngIf",n.authService.hasPermission(t.perfilId,"obrador")),p(),m("ngIf",n.authService.hasPermission(t.perfilId,"catalogo")),p(),m("ngIf",n.authService.hasPermission(t.perfilId,"seguridad")),p(3),k(t.nombre)}}var b=class e{constructor(o,t){this.authService=o;this.router=t}isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.isMenuOpen=!1,this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(M(h),M(C))};static \u0275cmp=_({type:e,selectors:[["app-navbar"]],standalone:!0,features:[v],decls:2,vars:3,consts:[["class","navbar",4,"ngIf"],[1,"navbar"],[1,"navbar-brand"],[1,"logo",3,"routerLink"],["aria-label","Toggle navigation",1,"navbar-toggle",3,"click"],[1,"bar"],[1,"navbar-nav"],[4,"ngIf"],[1,"user-info"],[1,"user-name"],[1,"btn-logout",3,"click"],["routerLink","/pedidos","routerLinkActive","active",3,"click"],["routerLink","/obrador","routerLinkActive","active",3,"click"],["routerLink","/productos","routerLinkActive","active",3,"click"],["routerLink","/seguridad","routerLinkActive","active",3,"click"]],template:function(t,n){t&1&&(O(0,Q,18,8,"nav",0),y(1,"async")),t&2&&m("ngIf",S(1,1,n.authService.currentUser$))},dependencies:[A,I,N,U,E,F],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#3f51b5;color:#fff;padding:0 1rem;height:64px;box-shadow:0 2px 4px #0000001a;z-index:1000;position:relative}.navbar-brand[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.navbar-toggle[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:30px;height:21px;background:none;border:none;cursor:pointer;padding:0;min-height:44px;min-width:44px}.navbar-toggle[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:3px;width:100%;background-color:#fff;border-radius:10px}.navbar-nav[_ngcontent-%COMP%]{list-style:none;display:flex;align-items:center;gap:1.5rem;margin:0;padding:0}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;font-weight:500;padding:.5rem 0;border-bottom:2px solid transparent;transition:all .2s}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:1rem;border-left:1px solid rgba(255,255,255,.3);padding-left:1rem}.btn-logout[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:.25rem .75rem;border-radius:4px;cursor:pointer;min-height:44px}.btn-logout[_ngcontent-%COMP%]:hover{background:#ffffff1a}.navbar-toggle[_ngcontent-%COMP%]:focus-visible, .navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, .btn-logout[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:2px}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;height:auto;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{width:100%}.navbar-toggle[_ngcontent-%COMP%]{display:flex}.navbar-nav[_ngcontent-%COMP%]{display:none;flex-direction:column;width:100%;gap:0;margin-top:1rem}.navbar-nav.open[_ngcontent-%COMP%]{display:flex}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.75rem 0;width:100%;border-bottom:1px solid rgba(255,255,255,.1);min-height:44px}.user-info[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;margin-left:0;padding-left:0;border-left:none;padding-top:1rem;width:100%}.btn-logout[_ngcontent-%COMP%]{width:auto}}"]})};var x=class e{title="arruti-app";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=_({type:e,selectors:[["app-root"]],standalone:!0,features:[v],decls:3,vars:0,consts:[[1,"main-content"]],template:function(t,n){t&1&&(g(0,"app-navbar"),i(1,"main",0),g(2,"router-outlet"),a())},dependencies:[R,b]})};D(x,B).catch(e=>console.error(e));
