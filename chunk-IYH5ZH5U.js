import{a as H}from"./chunk-FKJURD26.js";import"./chunk-Y5J44TVU.js";import{C as r,H as p,J as d,M as n,N as o,O as h,P as C,Q as P,R as S,S as O,T as s,V as i,W as c,X as M,Z as y,aa as I,ba as k,f as g,h as m,k as f,l as u,la as D,ma as E,oa as w,s as x,t as b,wa as T,x as _,y as v,za as F}from"./chunk-ROLQTBHD.js";function R(t,a){t&1&&(n(0,"div",8),h(1,"div",9),n(2,"p"),i(3,"Cargando datos de producci\xF3n..."),o()())}function V(t,a){if(t&1){let e=S();n(0,"div",10),i(1),n(2,"button",11),O("click",function(){_(e);let z=s(2);return v(z.loadStats())}),i(3,"Reintentar"),o()()}if(t&2){let e=s().ngIf;r(),M(" ",e.error," ")}}function $(t,a){if(t&1&&(n(0,"div",12)(1,"div",13)(2,"h3"),i(3,"Pendientes"),o(),n(4,"p",14),i(5),o()(),n(6,"div",13)(7,"h3"),i(8,"En Horno"),o(),n(9,"p",14),i(10),o()(),n(11,"div",13)(12,"h3"),i(13,"Finalizados Hoy"),o(),n(14,"p",14),i(15),o()()()),t&2){let e=s().ngIf;r(5),c(e.data.totalPendientes),r(5),c(e.data.enHorno),r(5),c(e.data.finalizadosHoy)}}function j(t,a){if(t&1&&(C(0),p(1,R,4,0,"div",5)(2,V,4,1,"div",6)(3,$,16,3,"div",7),P()),t&2){let e=a.ngIf;r(),d("ngIf",e.loading),r(),d("ngIf",e.error),r(),d("ngIf",e.data)}}var N=class t{productionService=x(H);state$;ngOnInit(){this.loadStats()}loadStats(){this.state$=this.productionService.getDashboardStats().pipe(m(a=>({loading:!1,data:a,error:null})),u({loading:!0,data:null,error:null}),f(a=>g({loading:!1,data:null,error:a.message})))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[y],decls:9,vars:3,consts:[[1,"dashboard-container"],[1,"header"],[1,"actions"],["routerLink","/nuevo-pedido",1,"btn-new"],[4,"ngIf"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","stats-grid",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"error-state"],[3,"click"],[1,"stats-grid"],[1,"stat-card"],[1,"value"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Panel de Producci\xF3n"),o(),n(4,"div",2)(5,"button",3),i(6,"Crear Nuevo Pedido"),o()()(),p(7,j,4,3,"ng-container",4),I(8,"async"),o()),e&2&&(r(7),d("ngIf",k(8,1,l.state$)))},dependencies:[w,D,E,F,T],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;font-family:sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-new[_ngcontent-%COMP%]{background:#d35400;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-weight:700}.btn-new[_ngcontent-%COMP%]:hover{background:#e67e22}.btn-secondary[_ngcontent-%COMP%]{background:#eee;color:#333;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-weight:700}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ddd}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:20px}.stat-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;border-radius:8px;text-align:center;background:#fff}.value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#d35400}.loading-state[_ngcontent-%COMP%]{padding:40px;text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #d35400;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#721c24;background-color:#f8d7da;border-radius:8px;border:1px solid #f5c6cb;margin-top:20px}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;cursor:pointer;background:#d35400;color:#fff;border:none;border-radius:4px}button[_ngcontent-%COMP%]:hover{background:#e67e22}"]})};export{N as DashboardComponent};
