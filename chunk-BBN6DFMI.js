import{a as q}from"./chunk-WEWRKJVZ.js";import{a as j}from"./chunk-XOLXCWRL.js";import{a as A}from"./chunk-J22CBIBM.js";import"./chunk-CMYXJOK7.js";import{e as V,g as B,h as L,k as $}from"./chunk-PY7FXQZV.js";import{K as M,Ka as p,Lb as R,Na as c,Ob as F,Pb as T,Qa as o,Ra as n,Sa as x,Tb as z,V as d,Va as b,Wa as v,Wb as N,Xa as g,Z as S,bb as y,cb as i,db as m,eb as P,ga as u,ha as _,hb as E,jb as w,lb as k,m as f,mb as I,pb as D,q as C,r as h,y as O,za as a}from"./chunk-CMV2EMBO.js";var H=t=>["/productos",t,"receta","nueva"];function J(t,r){if(t&1&&(o(0,"span",21),i(1),n()),t&2){let e=r.$implicit;a(),P(" ",e," ")}}function K(t,r){t&1&&(o(0,"span",22),i(1," Sin tallas especificadas "),n())}function Q(t,r){if(t&1&&(o(0,"span",23),i(1),n()),t&2){let e=r.$implicit;a(),P(" ",e," ")}}function U(t,r){t&1&&(o(0,"span",22),i(1," Sin rellenos (producto simple) "),n())}function W(t,r){if(t&1&&(o(0,"div",5)(1,"div",6)(2,"div",7)(3,"label"),i(4,"ID:"),n(),o(5,"span",8),i(6),n()(),o(7,"div",7)(8,"label"),i(9,"Nombre:"),n(),o(10,"span",9),i(11),n()(),o(12,"div",7)(13,"label"),i(14,"Familia:"),n(),o(15,"span",10),i(16),n()(),o(17,"div",7)(18,"label"),i(19,"Raciones / Tallas:"),n(),o(20,"div",11),p(21,J,2,1,"span",12)(22,K,2,0,"span",13),n()(),o(23,"div",7)(24,"label"),i(25,"Rellenos disponibles:"),n(),o(26,"div",11),p(27,Q,2,1,"span",14)(28,U,2,0,"span",13),n()()(),o(29,"div",15)(30,"div",16)(31,"h3"),i(32,"Recetas / Producci\xF3n"),n(),o(33,"button",17),i(34," + A\xF1adir Receta "),n()(),x(35,"app-recetas-list",18),n(),o(36,"div",19)(37,"p",20),i(38,"Nota: Para modificar este producto, contacta con administraci\xF3n."),n()()()),t&2){let e=r.ngIf;a(6),m(e.producto.id),a(5),m(e.producto.producto),a(5),m(e.producto.familia),a(5),c("ngForOf",e.producto.tallasRaciones),a(),c("ngIf",e.producto.tallasRaciones.length===0),a(5),c("ngForOf",e.producto.rellenos),a(),c("ngIf",e.producto.rellenos.length===0),a(5),c("routerLink",w(10,H,e.producto.id)),a(2),c("recetas",e.recetas)("showProductColumn",!1)}}function X(t,r){if(t&1){let e=b();o(0,"div",26)(1,"p"),i(2),n(),o(3,"button",27),v("click",function(){u(e);let s=g(2);return _(s.loadProducto())}),i(4,"Reintentar"),n()()}if(t&2){let e=g(2);a(2),m(e.error)}}function Y(t,r){t&1&&(o(0,"div",28),x(1,"div",29),o(2,"p"),i(3,"Buscando producto..."),n()())}function Z(t,r){if(t&1&&p(0,X,5,1,"div",24)(1,Y,4,0,"div",25),t&2){let e=g();c("ngIf",e.error),a(),c("ngIf",!e.error)}}var G=class t{route=d(V);router=d(B);location=d(R);productoService=d(A);recetaService=d(j);data$;error=null;ngOnInit(){this.loadProducto()}loadProducto(){this.error=null,this.data$=this.route.paramMap.pipe(M(r=>{let e=r.get("id");return e?h({producto:this.productoService.getProductoById(e),recetas:this.recetaService.getRecetasByProducto(e)}).pipe(C(l=>{if(l.producto)return{producto:l.producto,recetas:l.recetas}})):f(void 0)}),O(r=>(this.error="No se pudo cargar el detalle del producto.",f(void 0))))}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-producto-detail"]],standalone:!0,features:[E],decls:10,vars:4,consts:[["loadingOrError",""],[1,"detail-container"],[1,"header"],[1,"btn-back",3,"click"],["class","content",4,"ngIf","ngIfElse"],[1,"content"],[1,"card"],[1,"info-group"],[1,"value","code"],[1,"value","highlight"],[1,"badge"],[1,"tallas-list"],["class","talla-tag",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],["class","talla-tag relleno",4,"ngFor","ngForOf"],[1,"recetas-section"],[1,"section-header"],[1,"btn-add-receta",3,"routerLink"],[3,"recetas","showProductColumn"],[1,"actions"],[1,"hint"],[1,"talla-tag"],[1,"empty"],[1,"talla-tag","relleno"],["class","error-state",4,"ngIf"],["class","loading-state",4,"ngIf"],[1,"error-state"],[1,"btn-retry",3,"click"],[1,"loading-state"],[1,"spinner"]],template:function(e,l){if(e&1){let s=b();o(0,"div",1)(1,"div",2)(2,"button",3),v("click",function(){return u(s),_(l.goBack())}),i(3,"\u2190 Volver"),n(),o(4,"h2"),i(5,"Detalle del Producto"),n()(),p(6,W,39,12,"div",4),k(7,"async"),p(8,Z,2,2,"ng-template",null,0,D),n()}if(e&2){let s=y(9);a(6),c("ngIf",I(7,2,l.data$))("ngIfElse",s)}},dependencies:[N,F,T,z,$,L,q],styles:[".detail-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:2rem;flex-wrap:wrap}.btn-back[_ngcontent-%COMP%]{background:none;border:none;color:#3b82f6;cursor:pointer;font-weight:700;font-size:1rem;display:flex;align-items:center;gap:.5rem;min-height:44px}.btn-back[_ngcontent-%COMP%]:hover{color:#2563eb}.card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a;padding:2.5rem;display:flex;flex-direction:column;gap:1.5rem}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-bottom:1px solid #f1f5f9;padding-bottom:1.25rem}.info-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:800;color:#64748b;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em}.value[_ngcontent-%COMP%]{font-size:1.25rem;color:#1e293b;font-weight:500}.value.highlight[_ngcontent-%COMP%]{color:#1e293b;font-weight:800;font-size:2rem}.value.code[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:.85rem;color:#94a3b8}.badge[_ngcontent-%COMP%]{align-self:flex-start;background:#e0f2fe;color:#0369a1;padding:.5rem 1rem;border-radius:12px;font-weight:800;font-size:.9rem}.tallas-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.talla-tag[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;padding:.5rem 1rem;border-radius:10px;font-weight:700;color:#475569}.talla-tag.relleno[_ngcontent-%COMP%]{background:#fff7ed;border-color:#ffedd5;color:#9a3412}.empty[_ngcontent-%COMP%]{color:#94a3b8;font-style:italic}.actions[_ngcontent-%COMP%]{margin-top:2rem;padding:1.25rem;background:#fefce8;border-radius:12px;border:1px solid #fef08a;display:flex;align-items:center;gap:.75rem}.hint[_ngcontent-%COMP%]{margin:0;color:#854d0e;font-size:.9rem;font-weight:500}.recetas-section[_ngcontent-%COMP%]{margin-top:2rem}.recetas-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.recetas-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1e293b}.recetas-section[_ngcontent-%COMP%]   .btn-add-receta[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background:#059669;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer}.recetas-section[_ngcontent-%COMP%]   .btn-add-receta[_ngcontent-%COMP%]:hover{background:#047857}.error-state[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem;background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid #f1f5f9;border-top:4px solid #3b82f6;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.btn-back[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}@media (max-width: 640px){.detail-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem;margin-bottom:1.5rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0}.card[_ngcontent-%COMP%]{padding:1.5rem;gap:1.25rem}.value.highlight[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{font-size:.8rem}.talla-tag[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.85rem}}"]})};export{G as ProductoDetailComponent};
