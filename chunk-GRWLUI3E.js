import{a as N}from"./chunk-ZFFSJV5F.js";import"./chunk-RA6BAOWJ.js";import{f as T,h as z,l as R}from"./chunk-Z77WTJM6.js";import{K as C,Ka as d,Mb as w,Na as l,Nb as k,Qa as n,Ra as o,Rb as D,Sa as O,Tb as F,V as m,Va as x,Wa as b,Xa as s,Z as h,bb as M,cb as i,db as p,eb as v,ga as u,ha as _,hb as E,kb as S,lb as y,m as f,nb as I,y as P,za as a}from"./chunk-KPOQCY7D.js";function B(t,r){if(t&1&&(n(0,"span",17),i(1),o()),t&2){let e=r.$implicit;a(),v(" ",e," ")}}function $(t,r){t&1&&(n(0,"span",18),i(1," Sin tallas especificadas "),o())}function A(t,r){if(t&1&&(n(0,"span",19),i(1),o()),t&2){let e=r.$implicit;a(),v(" ",e," ")}}function j(t,r){t&1&&(n(0,"span",18),i(1," Sin rellenos (producto simple) "),o())}function q(t,r){if(t&1&&(n(0,"div",5)(1,"div",6)(2,"div",7)(3,"label"),i(4,"ID:"),o(),n(5,"span",8),i(6),o()(),n(7,"div",7)(8,"label"),i(9,"Nombre:"),o(),n(10,"span",9),i(11),o()(),n(12,"div",7)(13,"label"),i(14,"Familia:"),o(),n(15,"span",10),i(16),o()(),n(17,"div",7)(18,"label"),i(19,"Raciones / Tallas:"),o(),n(20,"div",11),d(21,B,2,1,"span",12)(22,$,2,0,"span",13),o()(),n(23,"div",7)(24,"label"),i(25,"Rellenos disponibles:"),o(),n(26,"div",11),d(27,A,2,1,"span",14)(28,j,2,0,"span",13),o()()(),n(29,"div",15)(30,"p",16),i(31,"Nota: Para modificar este producto, contacta con administraci\xF3n."),o()()()),t&2){let e=r.ngIf;a(6),p(e.id),a(5),p(e.producto),a(5),p(e.familia),a(5),l("ngForOf",e.tallasRaciones),a(),l("ngIf",e.tallasRaciones.length===0),a(5),l("ngForOf",e.rellenos),a(),l("ngIf",e.rellenos.length===0)}}function G(t,r){if(t&1){let e=x();n(0,"div",22)(1,"p"),i(2),o(),n(3,"button",23),b("click",function(){u(e);let c=s(2);return _(c.loadProducto())}),i(4,"Reintentar"),o()()}if(t&2){let e=s(2);a(2),p(e.error)}}function H(t,r){t&1&&(n(0,"div",24),O(1,"div",25),n(2,"p"),i(3,"Buscando producto..."),o()())}function J(t,r){if(t&1&&d(0,G,5,1,"div",20)(1,H,4,0,"div",21),t&2){let e=s();l("ngIf",e.error),a(),l("ngIf",!e.error)}}var V=class t{route=m(T);router=m(z);productoService=m(N);producto$;error=null;ngOnInit(){this.loadProducto()}loadProducto(){this.error=null,this.producto$=this.route.paramMap.pipe(C(r=>{let e=r.get("id");return e?this.productoService.getProductoById(e):f(void 0)}),P(r=>(this.error="No se pudo cargar el detalle del producto.",f(void 0))))}goBack(){this.router.navigate(["/productos"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-producto-detail"]],standalone:!0,features:[E],decls:10,vars:4,consts:[["loadingOrError",""],[1,"detail-container"],[1,"header"],[1,"btn-back",3,"click"],["class","content",4,"ngIf","ngIfElse"],[1,"content"],[1,"card"],[1,"info-group"],[1,"value","code"],[1,"value","highlight"],[1,"badge"],[1,"tallas-list"],["class","talla-tag",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],["class","talla-tag relleno",4,"ngFor","ngForOf"],[1,"actions"],[1,"hint"],[1,"talla-tag"],[1,"empty"],[1,"talla-tag","relleno"],["class","error-state",4,"ngIf"],["class","loading-state",4,"ngIf"],[1,"error-state"],[1,"btn-retry",3,"click"],[1,"loading-state"],[1,"spinner"]],template:function(e,g){if(e&1){let c=x();n(0,"div",1)(1,"div",2)(2,"button",3),b("click",function(){return u(c),_(g.goBack())}),i(3,"\u2190 Volver al cat\xE1logo"),o(),n(4,"h2"),i(5,"Detalle del Producto"),o()(),d(6,q,32,7,"div",4),S(7,"async"),d(8,J,2,2,"ng-template",null,0,I),o()}if(e&2){let c=M(9);a(6),l("ngIf",y(7,2,g.producto$))("ngIfElse",c)}},dependencies:[F,w,k,D,R],styles:[".detail-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:2rem;flex-wrap:wrap}.btn-back[_ngcontent-%COMP%]{background:none;border:none;color:#3b82f6;cursor:pointer;font-weight:700;font-size:1rem;display:flex;align-items:center;gap:.5rem;min-height:44px}.btn-back[_ngcontent-%COMP%]:hover{color:#2563eb}.card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a;padding:2.5rem;display:flex;flex-direction:column;gap:1.5rem}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-bottom:1px solid #f1f5f9;padding-bottom:1.25rem}.info-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:800;color:#64748b;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em}.value[_ngcontent-%COMP%]{font-size:1.25rem;color:#1e293b;font-weight:500}.value.highlight[_ngcontent-%COMP%]{color:#1e293b;font-weight:800;font-size:2rem}.value.code[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:.85rem;color:#94a3b8}.badge[_ngcontent-%COMP%]{align-self:flex-start;background:#e0f2fe;color:#0369a1;padding:.5rem 1rem;border-radius:12px;font-weight:800;font-size:.9rem}.tallas-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.talla-tag[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;padding:.5rem 1rem;border-radius:10px;font-weight:700;color:#475569}.talla-tag.relleno[_ngcontent-%COMP%]{background:#fff7ed;border-color:#ffedd5;color:#9a3412}.empty[_ngcontent-%COMP%]{color:#94a3b8;font-style:italic}.actions[_ngcontent-%COMP%]{margin-top:2rem;padding:1.25rem;background:#fefce8;border-radius:12px;border:1px solid #fef08a;display:flex;align-items:center;gap:.75rem}.hint[_ngcontent-%COMP%]{margin:0;color:#854d0e;font-size:.9rem;font-weight:500}.error-state[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem;background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid #f1f5f9;border-top:4px solid #3b82f6;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.btn-back[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}@media (max-width: 640px){.detail-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem;margin-bottom:1.5rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0}.card[_ngcontent-%COMP%]{padding:1.5rem;gap:1.25rem}.value.highlight[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{font-size:.8rem}.talla-tag[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.85rem}}"]})};export{V as ProductoDetailComponent};
