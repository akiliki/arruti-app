import{a as H}from"./chunk-GMV6DHHB.js";import{$ as I,C as a,H as p,J as d,M as t,N as o,O as h,P as C,Q as P,R as S,S as O,T as s,V as i,W as c,X as y,Z as M,aa as E,f as m,h as g,k as f,ka as k,l as u,la as D,na as w,s as x,t as b,va as T,x as _,xa as F,y as v}from"./chunk-7CFEW4HV.js";function z(n,r){n&1&&(t(0,"div",9),h(1,"div",10),t(2,"p"),i(3,"Cargando datos de producci\xF3n..."),o()())}function L(n,r){if(n&1){let e=S();t(0,"div",11),i(1),t(2,"button",12),O("click",function(){_(e);let V=s(2);return v(V.loadStats())}),i(3,"Reintentar"),o()()}if(n&2){let e=s().ngIf;a(),y(" ",e.error," ")}}function R(n,r){if(n&1&&(t(0,"div",13)(1,"div",14)(2,"h3"),i(3,"Pendientes"),o(),t(4,"p",15),i(5),o()(),t(6,"div",14)(7,"h3"),i(8,"En Horno"),o(),t(9,"p",15),i(10),o()(),t(11,"div",14)(12,"h3"),i(13,"Finalizados Hoy"),o(),t(14,"p",15),i(15),o()()()),n&2){let e=s().ngIf;a(5),c(e.data.totalPendientes),a(5),c(e.data.enHorno),a(5),c(e.data.finalizadosHoy)}}function $(n,r){if(n&1&&(C(0),p(1,z,4,0,"div",6)(2,L,4,1,"div",7)(3,R,16,3,"div",8),P()),n&2){let e=r.ngIf;a(),d("ngIf",e.loading),a(),d("ngIf",e.error),a(),d("ngIf",e.data)}}var N=class n{productionService=x(H);state$;ngOnInit(){this.loadStats()}loadStats(){this.state$=this.productionService.getDashboardStats().pipe(g(r=>({loading:!1,data:r,error:null})),u({loading:!0,data:null,error:null}),f(r=>m({loading:!1,data:null,error:r.message})))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=b({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[M],decls:11,vars:3,consts:[[1,"dashboard-container"],[1,"header"],[1,"actions"],["routerLink","/pedidos",1,"btn-secondary"],["routerLink","/nuevo-pedido",1,"btn-new"],[4,"ngIf"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","stats-grid",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"error-state"],[3,"click"],[1,"stats-grid"],[1,"stat-card"],[1,"value"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Panel de Producci\xF3n - Pasteler\xEDa Arruti"),o(),t(4,"div",2)(5,"button",3),i(6,"Ver Todos los Pedidos"),o(),t(7,"button",4),i(8,"Crear Nuevo Pedido"),o()()(),p(9,$,4,3,"ng-container",5),I(10,"async"),o()),e&2&&(a(9),d("ngIf",E(10,1,l.state$)))},dependencies:[w,k,D,F,T],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;font-family:sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-new[_ngcontent-%COMP%]{background:#d35400;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-weight:700}.btn-new[_ngcontent-%COMP%]:hover{background:#e67e22}.btn-secondary[_ngcontent-%COMP%]{background:#eee;color:#333;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-weight:700}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ddd}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:20px}.stat-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;border-radius:8px;text-align:center;background:#fff}.value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#d35400}.loading-state[_ngcontent-%COMP%]{padding:40px;text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #d35400;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#721c24;background-color:#f8d7da;border-radius:8px;border:1px solid #f5c6cb;margin-top:20px}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;cursor:pointer;background:#d35400;color:#fff;border:none;border-radius:4px}button[_ngcontent-%COMP%]:hover{background:#e67e22}"]})};export{N as DashboardComponent};
