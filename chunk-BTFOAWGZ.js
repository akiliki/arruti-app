import{O as n,j as i,m as a}from"./chunk-WPZFAPEJ.js";var u=class o{currentUserSubject=new i(null);currentUser$=this.currentUserSubject.asObservable();constructor(){let r=localStorage.getItem("user");r&&this.currentUserSubject.next(JSON.parse(r))}login(r,s){let t=[{email:"admin@arruti.eus",password:"admin",nombre:"Administrador",perfilId:"admin"},{email:"joxe@arruti.eus",password:"AupaErreala",nombre:"Joxe",perfilId:"obrador"},{email:"sonia@arruti.eus",password:"IratiArruti",nombre:"Sonia",perfilId:"tienda"}].find(e=>e.email===r&&e.password===s);if(t){let e={id:Math.random().toString(36).substr(2,9),nombre:t.nombre,email:t.email,perfilId:t.perfilId,activo:!0};return localStorage.setItem("user",JSON.stringify(e)),this.currentUserSubject.next(e),a(!0)}return a(!1)}logout(){localStorage.removeItem("user"),this.currentUserSubject.next(null)}isLoggedIn(){return!!this.currentUserSubject.value}static \u0275fac=function(s){return new(s||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a};
